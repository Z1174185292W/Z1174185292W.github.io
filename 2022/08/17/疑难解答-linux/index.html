<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.2">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":-1,"unescape":true,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.json"};
  </script>

  <meta name="description" content="vim不能复制粘贴远程登录上liunx服务器上，使用vim打开文本，遇到windows内容不能粘贴到文本里，文本内容不能粘贴到windows上的问题。 解决方法： Esc退出插入模式,输入 set mouse&#x3D;v即可，但是只是临时有效，下次进入还的从新设置。 可以将设置写入vim配置文件中 配置文件是家目录下.vimc文件，然后source .vimc使配置生效 Linux下mysql-5.6重置">
<meta property="og:type" content="article">
<meta property="og:title" content="疑难解答-Linux">
<meta property="og:url" content="http://example.com/2022/08/17/%E7%96%91%E9%9A%BE%E8%A7%A3%E7%AD%94-linux/index.html">
<meta property="og:site_name" content="PeacefulRace">
<meta property="og:description" content="vim不能复制粘贴远程登录上liunx服务器上，使用vim打开文本，遇到windows内容不能粘贴到文本里，文本内容不能粘贴到windows上的问题。 解决方法： Esc退出插入模式,输入 set mouse&#x3D;v即可，但是只是临时有效，下次进入还的从新设置。 可以将设置写入vim配置文件中 配置文件是家目录下.vimc文件，然后source .vimc使配置生效 Linux下mysql-5.6重置">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://img2018.cnblogs.com/blog/1411470/201909/1411470-20190929173649786-1102739601.png">
<meta property="og:image" content="https://img2018.cnblogs.com/blog/1411470/201909/1411470-20190929173858703-2071558955.png">
<meta property="og:image" content="https://img2018.cnblogs.com/blog/1411470/201909/1411470-20190930100829664-491241917.png">
<meta property="og:image" content="https://img2018.cnblogs.com/blog/1411470/201909/1411470-20190930161834995-303636370.png">
<meta property="og:image" content="https://img2018.cnblogs.com/blog/1684288/201905/1684288-20190510171136471-741902129.png">
<meta property="og:image" content="https://img2018.cnblogs.com/blog/1684288/201905/1684288-20190510170947706-321808436.png">
<meta property="og:image" content="https://img2018.cnblogs.com/blog/1684288/201905/1684288-20190510170520040-394183993.png">
<meta property="og:image" content="https://img2018.cnblogs.com/blog/1684288/201905/1684288-20190510164458189-927374514.png">
<meta property="og:image" content="https://img2018.cnblogs.com/blog/1684288/201905/1684288-20190510165456615-1565300417.png">
<meta property="og:image" content="https://img2018.cnblogs.com/blog/1684288/201905/1684288-20190510165145196-812431589.png">
<meta property="og:image" content="https://images2015.cnblogs.com/blog/982624/201610/982624-20161025172005421-490284238.png">
<meta property="og:image" content="https://img2018.cnblogs.com/blog/1684288/201905/1684288-20190510171925473-2058049608.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/img_convert/f221a66d277cbb730b0e9f190ad4fe5f.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/img_convert/693a8fd569b1b35f7dfd7ebfda73f289.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/img_convert/0feb3337070f70fb55231b1178a9d5fc.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/img_convert/5c6a36cf122e61caee948b72673ad24c.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/img_convert/cb71e928231476e69e2c195a1868ee48.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/img_convert/47d5d4be1dbbf8a5fd33a4e5ebd6c215.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/img_convert/7040272255f04a1c59ea3e1c37e1d220.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/img_convert/59ddefa38bc62c0568421fc67a4d0273.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/img_convert/a10cf2c2e3039b68f36dba8fa3a196a8.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/img_convert/034acad5de6e66d410ed78043ff30c21.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/img_convert/7d377c042ab595db5a1bbec9d79159f1.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/img_convert/781c260276dff5b06b26cdf073cd47a9.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/img_convert/ec5b6c391abd600457a95efb2b1875cf.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/img_convert/e14eb42dfc39443aca2b6e3a44cd649c.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/img_convert/33abd2ea081756457d59c06a5162a608.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/img_convert/07441a26d39e163a0e9f338244caffca.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/img_convert/b41a3a478391653c2a0eb8246a5012c2.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/img_convert/de5b8b22ea15a3877d9996a0d7d49f85.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/img_convert/516e37447b9ee16a2afff66887a2a009.png">
<meta property="og:image" content="https://csdnimg.cn/release/aggregate/img/arrow-down@2x.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210412174840269.jpg#pic_center">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210412174856435.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3d4bGJyeGhi,size_16,color_FFFFFF,t_70#pic_center">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210412174916377.jpg#pic_center">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210412174940714.jpg#pic_center">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210412175216202.jpg#pic_center">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210412175155237.jpg#pic_center">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210412175130428.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3d4bGJyeGhi,size_16,color_FFFFFF,t_70#pic_center">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210412175052202.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3d4bGJyeGhi,size_16,color_FFFFFF,t_70#pic_center">
<meta property="og:image" content="https://csdnimg.cn/release/aggregate/img/arrow-down@2x.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20201114092202535.png#pic_center">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20201114092241743.png#pic_center">
<meta property="og:image" content="https://csdnimg.cn/release/blogv2/dist/pc/img/reprint.png">
<meta property="og:image" content="https://csdnimg.cn/release/blogv2/dist/pc/img/newCurrentTime2.png">
<meta property="og:image" content="https://csdnimg.cn/release/blogv2/dist/pc/img/articleReadEyes2.png">
<meta property="og:image" content="https://csdnimg.cn/release/blogv2/dist/pc/img/reprint.png">
<meta property="og:image" content="https://csdnimg.cn/release/blogv2/dist/pc/img/newCurrentTime2.png">
<meta property="og:image" content="https://csdnimg.cn/release/blogv2/dist/pc/img/articleReadEyes2.png">
<meta property="og:image" content="https://pic3.zhimg.com/v2-a2875c81b552fc2dd2119c8f1e9c850e_xs.jpg?source=172ae18b">
<meta property="og:image" content="https://community.home-assistant.io/user_avatar/community.home-assistant.io/radu/40/152885_2.png">
<meta property="og:image" content="https://community.home-assistant.io/user_avatar/community.home-assistant.io/garlandkr/40/158085_2.png">
<meta property="og:image" content="https://community.home-assistant.io/images/emoji/twitter/wink.png?v=10">
<meta property="og:image" content="https://csdnimg.cn/release/blogv2/dist/pc/img/newCurrentTime2.png">
<meta property="og:image" content="https://csdnimg.cn/release/blogv2/dist/pc/img/articleReadEyes2.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/img_convert/5ac032b0121d87190339416a069e677b.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/img_convert/d2c0e50968d8e6353910988c6656aa89.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/img_convert/64f52233aeacb905524621c43795fa01.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/img_convert/a280efbb9840a387ecf84c763b6bf4a2.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/img_convert/0c409481273df270efe7e0d8ce6c72a1.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/img_convert/d00ee588d47bdbb67bb5a5d1a0413dfa.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/img_convert/1e1423db1d6d320a3efbfe3cdb2c0704.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/img_convert/00024919bc03be1dde259f410c843366.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/img_convert/c6a505318e4cff32121e85f18e9c852d.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/img_convert/be7ae1ceed3a2f03bc9c95a4a239dc38.png">
<meta property="og:image" content="https://upload.jianshu.io/users/upload_avatars/13348817/d494b761-7b33-4f1f-be05-732322fe6486.jpg?imageMogr2/auto-orient/strip%7CimageView2/1/w/96/h/96/format/webp">
<meta property="og:image" content="https://upload-images.jianshu.io/upload_images/13348817-d7d5104c29fab0e5.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/690/format/webp">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20201117135919123.png#pic_center">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20201117135454580.png#pic_center">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20201117141741969.png#pic_center">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20201117141827414.png#pic_center">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20190527001528877.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyMTgxNDI4,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20190527001838540.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/2019052700194696.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20190527002127279.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/2019052700235545.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyMTgxNDI4,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20190527002556995.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyMTgxNDI4,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20190527002459885.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyMTgxNDI4,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://csdnimg.cn/release/blogv2/dist/pc/img/translate.png">
<meta property="article:published_time" content="2022-08-17T02:16:24.934Z">
<meta property="article:modified_time" content="2022-06-03T04:55:15.997Z">
<meta property="article:author" content="Private">
<meta property="article:tag" content="问题排除记录">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://img2018.cnblogs.com/blog/1411470/201909/1411470-20190929173649786-1102739601.png">

<link rel="canonical" href="http://example.com/2022/08/17/%E7%96%91%E9%9A%BE%E8%A7%A3%E7%AD%94-linux/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>疑难解答-Linux | PeacefulRace</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">PeacefulRace</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">学习笔记</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签<span class="badge">8</span></a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类<span class="badge">5</span></a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档<span class="badge">19</span></a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/08/17/%E7%96%91%E9%9A%BE%E8%A7%A3%E7%AD%94-linux/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Private">
      <meta itemprop="description" content="程序语言记录">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="PeacefulRace">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          疑难解答-Linux
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-08-17 10:16:24" itemprop="dateCreated datePublished" datetime="2022-08-17T10:16:24+08:00">2022-08-17</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-06-03 12:55:15" itemprop="dateModified" datetime="2022-06-03T12:55:15+08:00">2022-06-03</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/troubleshooting/" itemprop="url" rel="index"><span itemprop="name">troubleshooting</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h1 id="vim不能复制粘贴"><a href="#vim不能复制粘贴" class="headerlink" title="vim不能复制粘贴"></a>vim不能复制粘贴</h1><p>远程登录上liunx服务器上，使用vim打开文本，遇到windows内容不能粘贴到文本里，文本内容不能粘贴到windows上的问题。</p>
<p>解决方法：</p>
<p>Esc退出插入模式,输入</p>
<p>set mouse=v<br>即可，但是只是临时有效，下次进入还的从新设置。</p>
<p>可以将设置写入vim配置文件中</p>
<p>配置文件是家目录下.vimc文件，然后source .vimc使配置生效</p>
<h1 id="Linux下mysql-5-6重置root密码-https-www-cnblogs-com-xzlive-p-12758788-html"><a href="#Linux下mysql-5-6重置root密码-https-www-cnblogs-com-xzlive-p-12758788-html" class="headerlink" title="Linux下mysql-5.6重置root密码](https://www.cnblogs.com/xzlive/p/12758788.html)"></a>Linux下mysql-5.6重置root密码](<a target="_blank" rel="noopener" href="https://www.cnblogs.com/xzlive/p/12758788.html">https://www.cnblogs.com/xzlive/p/12758788.html</a>)</h1><p><strong>1. 检查<code>mysql</code>服务是否启动，如果启动，关闭<code>mysql</code>服务</strong></p>
<p>运行命令：<code>ps -ef | grep -i mysql</code></p>
<p><img src="https://img2018.cnblogs.com/blog/1411470/201909/1411470-20190929173649786-1102739601.png" alt="img"></p>
<p> 如果开着就运行关闭的命令：service mysqld stop</p>
<p><img src="https://img2018.cnblogs.com/blog/1411470/201909/1411470-20190929173858703-2071558955.png" alt="img"></p>
<p> <strong>2.修改mysql的配置文件my.conf</strong></p>
<p>一般在/etc目录下，运行命令：vi /etc/my.cnf，编辑文件</p>
<p><img src="https://img2018.cnblogs.com/blog/1411470/201909/1411470-20190930100829664-491241917.png" alt="img"></p>
<p>在文件的<code>[mysqld]标签下添加一句：skip-grant-tables</code></p>
<p><img src="https://img2018.cnblogs.com/blog/1411470/201909/1411470-20190930161834995-303636370.png" alt="img"></p>
<p>然后wq!保存退出。</p>
<p> <strong>3.重启数据库</strong></p>
<figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">运行命令：service mysqld <span class="built_in">start</span></span><br></pre></td></tr></table></figure>

<p> <strong>4.重启数据库</strong></p>
<figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">运行命令：service mysqld <span class="built_in">start</span></span><br></pre></td></tr></table></figure>

<p> <strong>5.进入到mysql数据库</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"> 运行命令：</span><br><span class="line">mysql -u root </span><br><span class="line">mysql -u root </span><br></pre></td></tr></table></figure>

<p> <strong>6.进入到mysql数据库</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"> 运行命令：</span><br><span class="line">mysql -u root </span><br><span class="line">mysql -u root </span><br></pre></td></tr></table></figure>

<p> <strong>7.修改密码</strong></p>
<p>　<code>以下是5.6的方式</code></p>
<p>　　运行语句：use mysql;<br>　　继续运行语句：update mysql.user set password=password(‘root_password’) where user=’root’;<br>　　root_password替换成你想要的密码</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">以下是<span class="number">5.7</span>的方式</span><br><span class="line">　　运行语句：</span><br><span class="line">use mysql;</span><br><span class="line">　　继续运行语句：</span><br><span class="line"><span class="keyword">update</span> mysql.user <span class="keyword">set</span> authentication_string<span class="operator">=</span>password(<span class="string">&#x27;root_password&#x27;</span>) <span class="keyword">where</span> <span class="keyword">user</span><span class="operator">=</span><span class="string">&#x27;root&#x27;</span>;    </span><br><span class="line">　　root_password</span><br><span class="line">替换成你想要的密码</span><br><span class="line">use mysql;</span><br><span class="line"><span class="keyword">update</span> mysql.user <span class="keyword">set</span> authentication_string<span class="operator">=</span>password(<span class="string">&#x27;root_password&#x27;</span>) <span class="keyword">where</span> <span class="keyword">user</span><span class="operator">=</span><span class="string">&#x27;root&#x27;</span>;    </span><br><span class="line">　　root_password</span><br><span class="line">　　root_password</span><br><span class="line"> </span><br></pre></td></tr></table></figure>

<p>  <strong>8.把步骤2加的东西删除掉，在重启服务器，就可以使用刚才修改的密码登录进服务器了。</strong></p>
<p> <code>mysql -u root -p</code></p>
<p>到这一步已经全部结束。</p>
<h1 id="windows下用navicat链接虚拟机MySQL数据库的过程和问题解决"><a href="#windows下用navicat链接虚拟机MySQL数据库的过程和问题解决" class="headerlink" title="windows下用navicat链接虚拟机MySQL数据库的过程和问题解决"></a><a target="_blank" rel="noopener" href="https://www.cnblogs.com/brankoliu/p/10845491.html">windows下用navicat链接虚拟机MySQL数据库的过程和问题解决</a></h1><p>navicat远程连接虚拟机中的MySQL数据库</p>
<p>1、在linux查看mysql服务器IP地址</p>
<p>  ifconfig</p>
<p><img src="https://img2018.cnblogs.com/blog/1684288/201905/1684288-20190510171136471-741902129.png" alt="img"></p>
<p>记住此IP</p>
<p>navicat设置</p>
<p><img src="https://img2018.cnblogs.com/blog/1684288/201905/1684288-20190510170947706-321808436.png" alt="img"></p>
<p> 设置完毕</p>
<p><strong>遇到问题</strong></p>
<p>一直连不上，在网上搜索了一下，主要原因为两种</p>
<p><strong>1 虚拟机防火墙或者 3306端口未启用</strong></p>
<p><strong>2 mysql授权问题</strong></p>
<p><strong>问题1</strong> </p>
<p>连接时错误提示</p>
<p>使用图形界面管理工具Navicat for MySQL连接Mysql数据库时提示错误：Can’t connect to MySQL server (10060)</p>
<p><img src="https://img2018.cnblogs.com/blog/1684288/201905/1684288-20190510170520040-394183993.png" alt="img"></p>
<p> 问题原因：</p>
<p>导致些问题可能有以下几个原因：</p>
<p>1、网络不通；</p>
<p>2、服务未启动；</p>
<p>3、防火墙端口未开放；</p>
<p>解决方法：</p>
<p>启动服务：</p>
<p>　　首先，我用navicat去远程链接我虚拟机中的MySQL，链接测试失败。</p>
<p>　　然后在虚拟机中查看网络端口信息：</p>
<p>　　#netstat -ntpl</p>
<p><img src="https://img2018.cnblogs.com/blog/1684288/201905/1684288-20190510164458189-927374514.png" alt="img"></p>
<p>iptables -vnL</p>
<p> 查看防火墙的状态，查看3306端口，</p>
<p> 如果3306如下，是drop状态，或者根本无3306端口，说明3306端口设置问题</p>
<p><img src="https://img2018.cnblogs.com/blog/1684288/201905/1684288-20190510165456615-1565300417.png" alt="img"></p>
<p><strong>解决办法：</strong></p>
<p>启动服务：</p>
<p><code>service mysqld start;</code></p>
<p>开放防火墙端口<br>添加需要监听的端口<br>/sbin/iptables -I INPUT -p tcp –dport 3306 -j ACCEPT</p>
<p>开启3306端口监听，开启后如下图</p>
<p><img src="https://img2018.cnblogs.com/blog/1684288/201905/1684288-20190510165145196-812431589.png" alt="img"></p>
<p> <strong>扩展知识</strong></p>
<p>防火墙其他相关操作</p>
<p>临时关闭防火墙服务<br>service iptables stop</p>
<p>开启防火墙服务<br>service iptables start</p>
<p>开机不再启动防火墙服务<br>chkconfig iptables off</p>
<p><strong>问题2</strong></p>
<p>远程链接了一下MySQL，出现了以下错误，查了一下，是因为MySQL没有允许远程登陆，所以要授权MySQL远程登陆。</p>
<p>　　<img src="https://images2015.cnblogs.com/blog/982624/201610/982624-20161025172005421-490284238.png" alt="img"></p>
<p> 从任何主机上使用root用户，密码：yourpassword（你的root密码）连接到mysql服务器：<br>　　# mysql -u root -proot<br>　　mysql&gt;GRANT ALL PRIVILEGES ON <em>.</em> TO ‘root‘@’%’ IDENTIFIED BY ‘yourpassword’ WITH GRANT OPTION;</p>
<p>　　操作完后切记执行以下命令刷新权限<br>　　 FLUSH PRIVILEGES</p>
<p> 　这时再通过navicat远程链接MySQL，链接测试，如下图，成功。</p>
<p><img src="https://img2018.cnblogs.com/blog/1684288/201905/1684288-20190510171925473-2058049608.png" alt="img"></p>
<p> 分类: <a target="_blank" rel="noopener" href="https://www.cnblogs.com/brankoliu/category/1461963.html">MySQL</a></p>
<h1 id="MariaDB-数据库迁移"><a href="#MariaDB-数据库迁移" class="headerlink" title="*MariaDB* *数据库迁移*"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_30567225/article/details/95318407">*<strong>MariaDB* *数据库迁移*</strong></a></h1><p>2018-02-26 12:35:00</p>
<h3 id="一、为什么要迁移"><a href="#一、为什么要迁移" class="headerlink" title="一、为什么要迁移"></a>一、为什么要迁移</h3><p>我的七月小说站点放在JCloud上，恕我直言，配合我的Aliyun服务器进行数据交互，那是相当的慢，没办法，京东云上面十几块钱的公网ip，也就这样了。<br>所以我决定把web服务器和数据库部署到一起。</p>
<h3 id="二、迁移前导步骤"><a href="#二、迁移前导步骤" class="headerlink" title="二、迁移前导步骤"></a>二、迁移前导步骤</h3><p>迁移过程中顺便记录一手，供后面再次迁移到别的服务器上查阅，省的麻烦。<br>服务器是CentOS 7.4<br>1.再次安装MariaDB<br><code>yum -y install mariadb mariadb-server</code><br>2.启动MariaDB<br><code>systemctl start mariadb</code><br>3.设置开机自启<br><code>systemctl enable mariadb</code><br>4.简单配置一下<br><code>mysql_secure_installation</code><br>5.进入用户，配置权限</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">use mysql;</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">user</span> <span class="string">&#x27;jiajin&#x27;</span>@<span class="string">&#x27;%&#x27;</span> IDENTIFIED <span class="keyword">BY</span> <span class="string">&#x27;your password&#x27;</span>;</span><br><span class="line"><span class="keyword">grant</span>  <span class="keyword">all</span>  <span class="keyword">on</span> <span class="operator">*</span>.<span class="operator">*</span> <span class="keyword">to</span> jiajin@<span class="string">&#x27;%&#x27;</span>;</span><br><span class="line">quit;</span><br><span class="line">flush privileges; </span><br></pre></td></tr></table></figure>

<p>6.字符集配置<br>进入my.cnf<code>vi /etc/my.cnf</code><br>在[msqld]标签下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">init_connect=&#x27;SET collation_connection = utf8_unicode_ci&#x27; </span><br><span class="line">init_connect=&#x27;SET NAMES utf8&#x27; </span><br><span class="line">character-set-server=utf8 </span><br><span class="line">collation-server=utf8_unicode_ci </span><br><span class="line">skip-character-set-client-handshake</span><br></pre></td></tr></table></figure>

<p>进入文件/etc/my.cnf.d/client.cnf<br>在[client]中添加<code>default-character-set=utf8</code><br>进入文件/etc/my.cnf.d/mysql-clients.cnf<br>在[mysql]中添加<code>default-character-set=utf8</code><br>好了，重启MariaDB<code>systemctl restart mariadb</code><br>创建数据库<code>create database novel</code></p>
<h3 id="三、迁移数据库表和结构"><a href="#三、迁移数据库表和结构" class="headerlink" title="三、迁移数据库表和结构"></a>三、迁移数据库表和结构</h3><p>先cd到mysql的运行路径下，再执行一下命令：<br>1.导出数据和表结构：<br>mysqldump -u用户名 -p密码 数据库名 &gt; 数据库名.sql<br>mysqldump -uroot -p dbname &gt; dbname .sql<br>敲回车后会提示输入密码<br>2.只导出表结构<br>mysqldump -u用户名 -p密码 -d 数据库名 &gt; 数据库名.sql<br>mysqldump -uroot -p -d dbname &gt; dbname .sql<br>3.导入数据库<br>方法一：<br>（1）选择数据库<br>mysql&gt;use dbname ;<br>（2）设置数据库编码<br>mysql&gt;set names utf8;<br>（3）导入数据（注意sql文件的路径）<br>mysql&gt;source /home/xxxx/dbname .sql;<br>方法二：<br>mysql -u用户名 -p密码 数据库名 &lt; 数据库名.sql</p>
<p>转载于:<a target="_blank" rel="noopener" href="https://www.cnblogs.com/jiajin/p/8472590.html">https://www.cnblogs.com/jiajin/p/8472590.html</a></p>
<p>更多相关内容</p>
<ul>
<li><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_32296621/article/details/116336226">使用Oracle SQL Developer工具完成<em>Mariadb数据库迁移</em>到Oracle数据库</a>2021-05-02 01:14:32</p>
<p>Oracle SQL Developer 是一个免费的集成开发环境，简化了传统部署和云部署中 Oracle 数据库的开发和管理。SQL Developer 提供完整的端到端的 PL/SQL 应用开发，包括一个用于运行查询和脚本的工作表，一个用于管理数据库的 DBA 控制台，一个报告界面、一个全面的数据建模解决方案，以及一个用于将您的第三方数据库迁移到 Oracle 的迁移平台。</p>
<p>“我们很高兴看到 Oracle SQL Developer 得到了广泛应用。开发人员社区已经接受 SQL Developer 作为设计、开发和 DBA 活动的事实上的标准数据库 IDE。”— Oracle 数据库工具副总裁 Michael J. Hichwa</p>
<p>一、准备工作</p>
<p><img src="https://img-blog.csdnimg.cn/img_convert/f221a66d277cbb730b0e9f190ad4fe5f.png" alt="f221a66d277cbb730b0e9f190ad4fe5f.png"></p>
<p><img src="https://img-blog.csdnimg.cn/img_convert/693a8fd569b1b35f7dfd7ebfda73f289.png" alt="693a8fd569b1b35f7dfd7ebfda73f289.png"></p>
<p>二、设置Oracle SQL Developer中文界面</p>
<p>首先，找到Oracle SQL Developer的安装目录；随后，在“ide\bin”目录下打开ide.conf文件；然后，将AddVMOption -Duser.language=zh 与 AddVMOption -Duser.country=CN 各占一行写入。</p>
<p><img src="https://img-blog.csdnimg.cn/img_convert/0feb3337070f70fb55231b1178a9d5fc.png" alt="0feb3337070f70fb55231b1178a9d5fc.png"></p>
<p>最后，保存文件，重启Oracle Oracle SQL Developer.</p>
<p>三、设置Oracle SQL Developer的Mysql支持插件</p>
<p>Oracle SQL Developer安装完后需要在工具–首选项–数据库–第三方JDBC驱动程序窗口添加刚才下载的mysql-connector-java-8.0.23.jar</p>
<p><img src="https://img-blog.csdnimg.cn/img_convert/5c6a36cf122e61caee948b72673ad24c.png" alt="5c6a36cf122e61caee948b72673ad24c.png"></p>
<p>四、开始准备迁移数据库</p>
<p><img src="https://img-blog.csdnimg.cn/img_convert/cb71e928231476e69e2c195a1868ee48.png" alt="cb71e928231476e69e2c195a1868ee48.png"></p>
<p>在oracle库上右键选择‘关联迁移库资料档案库’菜单</p>
<p><img src="https://img-blog.csdnimg.cn/img_convert/47d5d4be1dbbf8a5fd33a4e5ebd6c215.png" alt="47d5d4be1dbbf8a5fd33a4e5ebd6c215.png"></p>
<p>在Mariadb库上右键选择‘迁移到Oracle…’菜单</p>
<p>五、开始迁移数据库</p>
<p><img src="https://img-blog.csdnimg.cn/img_convert/7040272255f04a1c59ea3e1c37e1d220.png" alt="7040272255f04a1c59ea3e1c37e1d220.png"></p>
<p><img src="https://img-blog.csdnimg.cn/img_convert/59ddefa38bc62c0568421fc67a4d0273.png" alt="59ddefa38bc62c0568421fc67a4d0273.png"></p>
<p><img src="https://img-blog.csdnimg.cn/img_convert/a10cf2c2e3039b68f36dba8fa3a196a8.png" alt="a10cf2c2e3039b68f36dba8fa3a196a8.png"></p>
<p><img src="https://img-blog.csdnimg.cn/img_convert/034acad5de6e66d410ed78043ff30c21.png" alt="034acad5de6e66d410ed78043ff30c21.png"></p>
<p><img src="https://img-blog.csdnimg.cn/img_convert/7d377c042ab595db5a1bbec9d79159f1.png" alt="7d377c042ab595db5a1bbec9d79159f1.png"></p>
<p><img src="https://img-blog.csdnimg.cn/img_convert/781c260276dff5b06b26cdf073cd47a9.png" alt="781c260276dff5b06b26cdf073cd47a9.png"></p>
<p><img src="https://img-blog.csdnimg.cn/img_convert/ec5b6c391abd600457a95efb2b1875cf.png" alt="ec5b6c391abd600457a95efb2b1875cf.png"></p>
<p><img src="https://img-blog.csdnimg.cn/img_convert/e14eb42dfc39443aca2b6e3a44cd649c.png" alt="e14eb42dfc39443aca2b6e3a44cd649c.png"></p>
<p><img src="https://img-blog.csdnimg.cn/img_convert/33abd2ea081756457d59c06a5162a608.png" alt="33abd2ea081756457d59c06a5162a608.png"></p>
<p><img src="https://img-blog.csdnimg.cn/img_convert/07441a26d39e163a0e9f338244caffca.png" alt="07441a26d39e163a0e9f338244caffca.png"></p>
<p>恭喜您，迁移成功！</p>
<p><img src="https://img-blog.csdnimg.cn/img_convert/b41a3a478391653c2a0eb8246a5012c2.png" alt="b41a3a478391653c2a0eb8246a5012c2.png"></p>
<p>六、扫尾工作</p>
<p>Oracle执行了第三步‘关联迁移库资料档案库’菜单后，可以打开之前的连接查看，会生成一些表格，是用于在数据迁移过程中记录相关数据；所以迁移完成后，需要删除oracle库中这些多余的表：</p>
<p><img src="https://img-blog.csdnimg.cn/img_convert/de5b8b22ea15a3877d9996a0d7d49f85.png" alt="de5b8b22ea15a3877d9996a0d7d49f85.png"></p>
<p>在oracle库上右键选择‘删除迁移库资料档案库’菜单</p>
<p>七、最终成果展示</p>
<p><img src="https://img-blog.csdnimg.cn/img_convert/516e37447b9ee16a2afff66887a2a009.png" alt="516e37447b9ee16a2afff66887a2a009.png"></p>
<p>OK，欢迎大家持续关注潤沁實業教育领域潤沁網路大學系列课程。</p>
<p>原文：<a target="_blank" rel="noopener" href="https://www.cnblogs.com/runqinshiye/p/14444912.html">https://www.cnblogs.com/runqinshiye/p/14444912.html</a></p>
<p><a href="javascript:;">收起 <img src="https://csdnimg.cn/release/aggregate/img/arrow-down@2x.png" alt="img"></a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/jzdriver/article/details/104747448/?utm_term=mariadb%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%81%E7%A7%BB&utm_medium=distribute.pc_aggpage_search_result.none-task-blog-2~all~sobaiduweb~default-0-104747448-null-null&spm=3001.4430"><em>MariaDB</em> 10.5 <em>迁移</em> datadir <em>数据库</em>目录 到 /home文件夹下</a></p>
<p>执行mysql_secure_installation 或 mysql_install_db –user=mysql 进行常规安装 执行systemctl start <em>mariadb</em> 启动<em>数据库</em>———(截止这步,都是常规安装) 确认<em>数据库</em>正常后,开始目录<em>迁移</em> 执行cp …</p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/YABIGNSHI/article/details/120284067?utm_term=mariadb%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%81%E7%A7%BB&utm_medium=distribute.pc_aggpage_search_result.none-task-blog-2~all~sobaiduweb~default-1-120284067-null-null&spm=3001.4430">…套<em>mariadb</em>+maxscale上_雅冰石的博客_<em>mariadb 数据迁移</em></a></p>
<p>先将目标端的<em>mariadb</em>主库临时成为源端主库的从库,进行主从复制,从而保证数据同步,避免影响业务,然后切程序里连的<em>数据库</em>代理ip。 3.1 修改目标端主库的server_id #由于源端和目标端的server_id冲突,因此这里需要改下目标端主库的serve…</p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/wxlbrxhb/article/details/115632404"><em>mariadb</em>数据文件<em>迁移</em></a>2021-04-12 17:48:09</p>
<p>1、首先启动mariadb数据库，由于初次配置时会报错，所以这里我们重启他一次。<br>systemctl restart mariadb.service<br><img src="https://img-blog.csdnimg.cn/20210412174840269.jpg#pic_center" alt="在这里插入图片描述"></p>
<p>2、输入mysql_secure_installation，下面的各类选项，比如设置密码、是否删除测试库等等根据需要选择即可。<br><img src="https://img-blog.csdnimg.cn/20210412174856435.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3d4bGJyeGhi,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<p>3、停止mariadb数据库，systemctl stop mariadb.service，因为数据库的数据文件在运行状态的时候是无法迁移的。<br><img src="https://img-blog.csdnimg.cn/20210412174916377.jpg#pic_center" alt="在这里插入图片描述"></p>
<p>4、创建需要存放数据库文件的目录，mkdir –p/home/data/mysql<br><img src="https://img-blog.csdnimg.cn/20210412174940714.jpg#pic_center" alt="在这里插入图片描述"></p>
<p>5、对新建的目录进行授权，chown –R mysql:mysql /home/data/mysql<br><img src="https://img-blog.csdnimg.cn/20210412175216202.jpg#pic_center" alt="在这里插入图片描述"></p>
<p>6、将原mariadb数据库的数据文件复制到新的目录中，默认数据文件相关的东西都在/var/lib/mysql/目录下，cp –a /var/lib/mysql/* /home/data/mysql/<br><img src="https://img-blog.csdnimg.cn/20210412175155237.jpg#pic_center" alt="在这里插入图片描述"></p>
<p>7、编辑/etc/my.cnf文件，将其中的datadir后面的目录改成新建的目录。<br><img src="https://img-blog.csdnimg.cn/20210412175130428.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3d4bGJyeGhi,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<p>8、启动mariadb数据库，登录数据库之后输入命令show global variables like “%datadir%”，如果出现新目录为新目录则修改成功。</p>
<p><img src="https://img-blog.csdnimg.cn/20210412175052202.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3d4bGJyeGhi,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<p><a href="javascript:;">收起 <img src="https://csdnimg.cn/release/aggregate/img/arrow-down@2x.png" alt="img"></a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/Max_fzy/article/details/109686432"><em>mariaDB数据库</em>转移mysql数据库</a>2020-11-14 09:36:30</p>
<p>由于现在mysql处于开源状态，有部分用户已经在使用mariaDB了。</p>
<p>但是当原本有mysql数据库的情况下又有mariaDB。怎么把mariaDB数据库的表和数据导入到Mysql数据库里。</p>
<p>mariaDB数据库转换mysql 不能直接导出SQL+数据 需要分开用模型导出建表语句和再导出SQL数据,两者的差异参考以下示例。</p>
<p>mariaDB导出的SQL对字段使用 “ 双引号标识，而mysql则使用 ` 进行标识。</p>
<p>mariaDb导出示例</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE <span class="string">&quot;gl_activity&quot;</span> (</span><br><span class="line">  <span class="string">&quot;act_id&quot;</span> <span class="keyword">int</span>(<span class="number">10</span>) unsigned NOT <span class="literal">NULL</span> AUTO_INCREMENT COMMENT <span class="string">&#x27;主键ID&#x27;</span>,</span><br><span class="line">  <span class="string">&quot;actname&quot;</span> <span class="title function_ invoke__">varchar</span>(<span class="number">50</span>) DEFAULT <span class="literal">NULL</span> COMMENT <span class="string">&#x27;活动名称&#x27;</span>,</span><br><span class="line">  PRIMARY <span class="title function_ invoke__">KEY</span> (<span class="string">&quot;act_id&quot;</span>)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p><img src="https://img-blog.csdnimg.cn/20201114092202535.png#pic_center" alt="在这里插入图片描述"></p>
<p>mysql导出示例</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE `gl_activity` (</span><br><span class="line">`act_id` <span class="keyword">int</span>(<span class="number">10</span>) UNSIGNED NOT <span class="literal">NULL</span> AUTO_INCREMENT COMMENT <span class="string">&#x27;主键ID&#x27;</span>,</span><br><span class="line">`actname` <span class="title function_ invoke__">varchar</span>(<span class="number">50</span>) CHARACTER SET utf8 COLLATE utf8_general_ci <span class="literal">NULL</span> DEFAULT <span class="literal">NULL</span> COMMENT <span class="string">&#x27;活动名称&#x27;</span>,</span><br><span class="line">PRIMARY <span class="title function_ invoke__">KEY</span> (`act_id`) </span><br><span class="line">)</span><br><span class="line">ENGINE=InnoDB</span><br><span class="line">DEFAULT CHARACTER SET=utf8 COLLATE=utf8_general_ci</span><br><span class="line">AUTO_INCREMENT=<span class="number">4</span></span><br><span class="line">COMMENT=<span class="string">&#x27;活动表&#x27;</span></span><br><span class="line">;</span><br></pre></td></tr></table></figure>

<p><img src="https://img-blog.csdnimg.cn/20201114092241743.png#pic_center" alt="在这里插入图片描述"></p>
</li>
</ul>
<h1 id="Centos环境下安装mongoDB"><a href="#Centos环境下安装mongoDB" class="headerlink" title="Centos环境下安装mongoDB"></a><a target="_blank" rel="noopener" href="https://www.cnblogs.com/layezi/p/7290082.html">Centos环境下安装mongoDB</a></h1><p>安装前注意: 此教程是通过yum安装的.仅限64位centos系统</p>
<p>安装步骤:</p>
<p>1、创建仓库文件: </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/yum.repos.d/mongodb-org-3.4.repo</span><br></pre></td></tr></table></figure>

<p> 然后复制下面配置,保存退出</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[mongodb-org-3.4]``name=MongoDB Repository``baseurl=https:``//repo.mongodb.org/yum/redhat/$releasever/mongodb-org/3.4/x86_64/``gpgcheck=1``enabled=1``gpgkey=https:``//www.mongodb.org/static/pgp/server-3.4.asc</span><br></pre></td></tr></table></figure>

<p> 2、yum安装</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install -y mongodb-org</span><br></pre></td></tr></table></figure>

<p> 没有权限就在前面加:  sudo</p>
<p>安装完毕后修改配置文件:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/mongod.conf</span><br></pre></td></tr></table></figure>

<p> 修改配置文件的 <code>bind_ip,</code> 默认是 <code>127.0.0.1 只限于本机连接</code>。所以安装完成后必须把这个修改为 0.0.0.0 ,否则通过别的机器是没法连接的!</p>
<p>3、启动、停止、重启</p>
<p>MongoDB默认将数据文件存储在<code>/var/lib/mongo</code>目录，默认日志文件在<code>/var/log/mongodb</code>中。如果要修改,可以在 <code>/etc/mongod.conf</code> 配置中指定备用日志和数据文件目录。</p>
<p>启动命令:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service mongod start</span><br></pre></td></tr></table></figure>

<p> 停止命令:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service mongod stop</span><br></pre></td></tr></table></figure>

<p> 重启命令:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service mongod restart</span><br></pre></td></tr></table></figure>

<p>查看mongoDB是否启动成功:</p>
<p>可以通过查看日志文件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat /``var``/log/mongodb/mongod.log</span><br></pre></td></tr></table></figure>

<p> 日志文件应该会出现如下一句说明</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[initandlisten] waiting for connections on port &lt;port&gt;</span><br></pre></td></tr></table></figure>

<p><port> 是mongodb运行端口</p>
<p>设置开机启动</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chkconfig mongod ``on</span><br></pre></td></tr></table></figure>

<p> 4、使用</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@instance-d0nk2r2c ~]# mongo` `## 查看数据库``&gt; show dbs;` `## 查看数据库版本``&gt; db.version();` `## 常用命令帮助``&gt; db.help();</span><br></pre></td></tr></table></figure>

<p> 5、卸载移除mongo</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum erase $(rpm -qa | grep mongodb-org)</span><br></pre></td></tr></table></figure>

<p> 6、移除数据库文件和日志文件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rm -r /``var``/log/mongodb``rm -r /``var``/lib/mongo</span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://docs.mongodb.com/master/tutorial/install-mongodb-on-red-hat/">https://docs.mongodb.com/master/tutorial/install-mongodb-on-red-hat/</a></p>
<p>个人博客: <a target="_blank" rel="noopener" href="https://lanxy.top/">https://lanxy.top</a></p>
<h1 id="本地连不上远程虚拟机的mysql"><a href="#本地连不上远程虚拟机的mysql" class="headerlink" title="本地连不上远程虚拟机的mysql"></a>本地连不上远程虚拟机的mysql</h1><p>一、写于2019.12.23</p>
<p>navicat：不修改数据库配置的情况下直接连接【先配置SSH，就是putty或者xshell远程连接的方式连接，然后再配置常规，主机localhost即可，相当于进入主机之后操作的数据库，完美！！】</p>
<p> 二、写于2019.6.14</p>
<p>虚拟机新装mysql时，由于权限不够，本地连不上，只能在虚拟机内部mysql操作。</p>
<p>1、首先sufo ufw status查看防火墙是否开启，状态为inactive说明没有开启防火墙。</p>
<p>2、然后输入netstat -an|grep 3306查看端口启动和占用情况，可以看到绑定为127.0.0.1，这块需要我们修改为0.0.0.0。3、进入虚拟机，修改mysql访问权限，依次执行</p>
<p>mysql -uroot -p</p>
<p>use mysql;<br>4、更新某一条mysql用户的权限（新装的mysql可以不执行第四步）</p>
<p>select host,user from user where user=’root’;<br>//如果上面查询到有信息,但host为localhost或其他值，就需要根据实际需求来更新表信息<br>//host代表本地可以访问<br>update user set host=’%’ where user=’root’ # 如果想任何的IP地址都可以使用root用户来远程登陆（注意如果上面的查询语句，查询出来有多条，就需要做一些处理，比如多加一个条件如 where user=’root’ and host=’localhost’或先删除其他人记录只保存一条user=’root’的记录）<br>5、指定所有客户端都可以使用root账户访问mysql。</p>
<p>//更改权限 语法模板<br>grant all privileges on 库名.表名 to ‘用户名‘@’IP地址’ identified by ‘密码’ with grant option;</p>
<p>//指定所有客户端都可以使用root账户访问mysql。<br>grant all privileges on <em>.</em> to ‘root‘@’%’ identified by ‘123456’ with grant option;<br>flush privileges;</p>
<p>//退出mysql，重启服务<br>exit;<br>sudo service mysql restart</p>
<p>注释：<br>库名:要远程访问的数据库名称,所有的数据库使用“<em>”<br>表名:要远程访问的数据库下的表的名称，所有的表使用“</em>”<br>用户名:要赋给远程访问权限的用户名称<br>IP地址:可以远程访问的电脑的IP地址，所有的地址使用“%”<br>密码:要赋给远程访问权限的用户对应使用的密码</p>
<p>5、输入sudo vim /etc/mysql/mysql.conf.d/mysqld.cnf  ,修改mysql配置文件。</p>
<p>将bind-address修改127.0.0.1为0.0.0.0。</p>
<p>最后，重新输入账号密码就可以了。参考链接</p>
<h1 id="Mariadb-Mysql命令行常用命令"><a href="#Mariadb-Mysql命令行常用命令" class="headerlink" title="Mariadb/Mysql命令行常用命令"></a>Mariadb/Mysql命令行常用命令</h1><p><img src="https://csdnimg.cn/release/blogv2/dist/pc/img/reprint.png" alt="img"></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_30708329">weixin_30708329</a><img src="https://csdnimg.cn/release/blogv2/dist/pc/img/newCurrentTime2.png" alt="img">于 2019-05-21 17:58:00 发布<img src="https://csdnimg.cn/release/blogv2/dist/pc/img/articleReadEyes2.png" alt="img">146</p>
<h2 id="一、初始化等"><a href="#一、初始化等" class="headerlink" title="一、初始化等"></a>一、初始化等</h2><h3 id="1、登陆数据库方法"><a href="#1、登陆数据库方法" class="headerlink" title="1、登陆数据库方法"></a><strong>1、登陆数据库方法</strong></h3><p>　　　  mysql -u 用户名 -p 用户密码</p>
<h3 id="2、修改root及用户密码"><a href="#2、修改root及用户密码" class="headerlink" title="2、修改root及用户密码"></a>2、修改root及用户密码</h3><p>　　　　use mysql;</p>
<p>　　　　update user set password=password(‘11111111’) where user=’root’ and host=’localhost’;</p>
<p>　　　　flush privileges;</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [mysql]&gt; update user set password=password(&#x27;11111111&#x27;) where user=&#x27;root&#x27; and host=&#x27;localhost&#x27;;</span><br><span class="line">Query OK, 1 row affected (0.01 sec)</span><br><span class="line">Rows matched: 1  Changed: 1  Warnings: 0</span><br><span class="line"></span><br><span class="line">MariaDB [mysql]&gt; flush privileges;</span><br><span class="line">Query OK, 0 rows affected (0.01 sec)</span><br><span class="line"></span><br><span class="line">MariaDB [mysql]&gt; exit</span><br></pre></td></tr></table></figure>

<h3 id="3、创建用户"><a href="#3、创建用户" class="headerlink" title="3、创建用户"></a><strong>3、创建用户</strong></h3><p>　　　　insert into mysql.user(host,user,password)values(“localhost”,”test”,password(“password”));</p>
<p>　　　　flush privileges;</p>
<h3 id="4、删除用户"><a href="#4、删除用户" class="headerlink" title="4、删除用户"></a>4、删除用户</h3><p>　　　　DELETE FROM user WHERE User=”test” and Host=”localhost”;<br>　　　　flush privileges;　　</p>
<h3 id="5、删除用户的数据库"><a href="#5、删除用户的数据库" class="headerlink" title="5、删除用户的数据库"></a>5、删除用户的数据库</h3><p>　　　　drop database test1;</p>
<h3 id="6、交互模式初始化"><a href="#6、交互模式初始化" class="headerlink" title="6、交互模式初始化"></a>6、交互模式初始化</h3><p>　　　　mysql_secure_installation</p>
<h2 id="二、-常用操作"><a href="#二、-常用操作" class="headerlink" title="二、 常用操作"></a>二、 常用操作</h2><h3 id="1、显示数据库列表"><a href="#1、显示数据库列表" class="headerlink" title="1、显示数据库列表"></a><strong>1、显示数据库列表</strong></h3><p>　　　　show databases:查看所有的数据库</p>
<h3 id="2、创建数据库"><a href="#2、创建数据库" class="headerlink" title="2、创建数据库"></a>2、创建数据库</h3><p>　　　　create database zxg：创建名尾zxg的数据库</p>
<h3 id="3、进入数据库"><a href="#3、进入数据库" class="headerlink" title="3、进入数据库"></a>3、进入数据库</h3><p>　　　　use zxg:进入zxg的数据库</p>
<h3 id="4、显示库中的数据表"><a href="#4、显示库中的数据表" class="headerlink" title="4、显示库中的数据表"></a>4、显示库中的数据表</h3><p>　　　　show tables：查看数据库里有多少张表</p>
<h3 id="5、创建数据表"><a href="#5、创建数据表" class="headerlink" title="5、创建数据表"></a>5、创建数据表</h3><p>　　　　create table t1 (id varchar(20),name varchar(20)):创建名为t1表，并创建两两个字段，id、name，varchar表示设置数据长度，用字符来定义长度单位，其</p>
<h3 id="6、插入数据"><a href="#6、插入数据" class="headerlink" title="6、插入数据"></a>6、插入数据</h3><p>　　　　insert into t1 values（”1”，”zxg”）:向表中插入数据</p>
<h3 id="7、查看数据表"><a href="#7、查看数据表" class="headerlink" title="7、查看数据表"></a>7、查看数据表</h3><p>　　　　select * from t1 ：查看t1表数据内容</p>
<h3 id="8、多条件查询"><a href="#8、多条件查询" class="headerlink" title="8、多条件查询"></a>8、多条件查询</h3><p>　　　　select * from t1 where id=1 and age = ‘zxg ‘ : id、age 多个条件查询</p>
<h3 id="9、查看字段内容"><a href="#9、查看字段内容" class="headerlink" title="9、查看字段内容"></a>9、查看字段内容</h3><p>　　　　desc t1:查看t1 表字段内容</p>
<h3 id="10、修改字段长度"><a href="#10、修改字段长度" class="headerlink" title="10、修改字段长度"></a>10、修改字段长度</h3><p>　　　　alter table t1 modify column name varchar(20):修改name字段的长度</p>
<h3 id="11、修改该字段内容"><a href="#11、修改该字段内容" class="headerlink" title="11、修改该字段内容"></a>11、修改该字段内容</h3><p>　　　　update t1 set name=’zxg.net’ where id=1：修改name字段的内容</p>
<h3 id="12、权限刷新"><a href="#12、权限刷新" class="headerlink" title="12、权限刷新"></a><strong>12、权限刷新</strong></h3><p>　　　　flush privileges :刷新权限</p>
<h3 id="13、清空表单"><a href="#13、清空表单" class="headerlink" title="13、清空表单"></a>13、清空表单</h3><p>　　　　delete from t1 :清空表内容</p>
<h3 id="14、删除数据表"><a href="#14、删除数据表" class="headerlink" title="14、删除数据表"></a>14、删除数据表</h3><p>　　　　drop table t1:删除表</p>
<h3 id="15、删除数据库"><a href="#15、删除数据库" class="headerlink" title="15、删除数据库"></a>15、删除数据库</h3><p>　　　　drop database zxg：删除zxg数据库</p>
<h3 id="16、查看数据库字符集"><a href="#16、查看数据库字符集" class="headerlink" title="16、查看数据库字符集"></a>16、查看数据库字符集</h3><p>　　　　show variables like ‘%char%’:查看数据库字符集</p>
<h3 id="17、查看存储引擎"><a href="#17、查看存储引擎" class="headerlink" title="17、查看存储引擎"></a>17、查看存储引擎</h3><p>　　　　show engines:查看MySQL存储引擎。</p>
<h3 id="18、查看默认存储引擎"><a href="#18、查看默认存储引擎" class="headerlink" title="18、查看默认存储引擎"></a>18、查看默认存储引擎</h3><p>　　　　show variables like ‘%storage_engine%’:查看MySQL默认的存储引擎</p>
<h3 id="19、修改存储引擎"><a href="#19、修改存储引擎" class="headerlink" title="19、修改存储引擎"></a>19、修改存储引擎</h3><p>　　　　alter table t1 engine=innodb:修改MySQL t1表存储引擎</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"> 1 [root@web2 ~]# mysql</span><br><span class="line"> 2 Welcome to the MariaDB monitor.  Commands end with ; or \g.</span><br><span class="line"> 3 Your MariaDB connection id is 2</span><br><span class="line"> 4 Server version: 5.5.60-MariaDB MariaDB Server</span><br><span class="line"> 5 </span><br><span class="line"> 6 Copyright (c) 2000, 2018, Oracle, MariaDB Corporation Ab and others.</span><br><span class="line"> 7 </span><br><span class="line"> 8 Type &#x27;help;&#x27; or &#x27;\h&#x27; for help. Type &#x27;\c&#x27; to clear the current input statement.</span><br><span class="line"> 9 </span><br><span class="line">10 MariaDB [(none)]&gt; show databases;</span><br><span class="line">11 +--------------------+</span><br><span class="line">12 | Database           |</span><br><span class="line">13 +--------------------+</span><br><span class="line">14 | information_schema |</span><br><span class="line">15 | mysql              |</span><br><span class="line">16 | performance_schema |</span><br><span class="line">17 | test               |</span><br><span class="line">18 +--------------------+</span><br><span class="line">19 4 rows in set (0.00 sec)</span><br><span class="line">20 </span><br><span class="line">21 MariaDB [(none)]&gt;  create database zxg;                   </span><br><span class="line">22 Query OK, 1 row affected (0.00 sec)</span><br><span class="line">23 </span><br><span class="line">24 MariaDB [(none)]&gt; use zxg;</span><br><span class="line">25 Database changed</span><br><span class="line">26 MariaDB [zxg]&gt; show tables;</span><br><span class="line">27 Empty set (0.00 sec)</span><br><span class="line">28 </span><br><span class="line">29 MariaDB [zxg]&gt; create table t1(id varchar(20),name varchar(20));</span><br><span class="line">30 Query OK, 0 rows affected (0.00 sec)</span><br><span class="line">31 </span><br><span class="line">32 MariaDB [zxg]&gt; show tables;</span><br><span class="line">33 +---------------+</span><br><span class="line">34 | Tables_in_zxg |</span><br><span class="line">35 +---------------+</span><br><span class="line">36 | t1            |</span><br><span class="line">37 +---------------+</span><br><span class="line">38 1 row in set (0.00 sec)</span><br><span class="line">39 </span><br><span class="line">40 MariaDB [zxg]&gt; </span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"> 1 MariaDB [zxg]&gt; insert into t1 values (&quot;1&quot;,&quot;zxg&quot;);</span><br><span class="line"> 2 Query OK, 1 row affected (0.01 sec)</span><br><span class="line"> 3 </span><br><span class="line"> 4 MariaDB [zxg]&gt; select *from t1;</span><br><span class="line"> 5 +------+------+</span><br><span class="line"> 6 | id | name |</span><br><span class="line"> 7 +------+------+</span><br><span class="line"> 8 | 1 | zxg |</span><br><span class="line"> 9 +------+------+</span><br><span class="line">10 1 row in set (0.00 sec)</span><br><span class="line">11 </span><br><span class="line">12 MariaDB [zxg]&gt; select *from t1 where id=1; </span><br><span class="line">13 +------+------+</span><br><span class="line">14 | id | name |</span><br><span class="line">15 +------+------+</span><br><span class="line">16 | 1 | zxg |</span><br><span class="line">17 +------+------+</span><br><span class="line">18 1 row in set (0.00 sec)</span><br><span class="line">19 </span><br><span class="line">20 MariaDB [zxg]&gt; select *from t1 where id=1 and name=&#x27;zxg&#x27;;</span><br><span class="line">21 +------+------+</span><br><span class="line">22 | id | name |</span><br><span class="line">23 +------+------+</span><br><span class="line">24 | 1 | zxg |</span><br><span class="line">25 +------+------+</span><br><span class="line">26 1 row in set (0.01 sec)</span><br><span class="line">27 </span><br><span class="line">28 MariaDB [zxg]&gt; desc t1;</span><br><span class="line">29 +-------+-------------+------+-----+---------+-------+</span><br><span class="line">30 | Field | Type | Null | Key | Default | Extra |</span><br><span class="line">31 +-------+-------------+------+-----+---------+-------+</span><br><span class="line">32 | id | varchar(20) | YES | | NULL | |</span><br><span class="line">33 | name | varchar(20) | YES | | NULL | |</span><br><span class="line">34 +-------+-------------+------+-----+---------+-------+</span><br><span class="line">35 2 rows in set (0.00 sec)</span><br><span class="line">36 </span><br><span class="line">37 MariaDB [zxg]&gt; alter table t1 modify column name varchar(20);</span><br><span class="line">38 Query OK, 0 rows affected (0.00 sec)</span><br><span class="line">39 Records: 0 Duplicates: 0 Warnings: 0</span><br><span class="line">40 </span><br><span class="line">41 MariaDB [zxg]&gt; update t1 set name=&#x27;zxg.net&#x27; where id=1;</span><br><span class="line">42 Query OK, 1 row affected (0.00 sec)</span><br><span class="line">43 Rows matched: 1 Changed: 1 Warnings: 0</span><br><span class="line">44 </span><br><span class="line">45 MariaDB [zxg]&gt;</span><br></pre></td></tr></table></figure>

<h2 id="三、mysql-数据库字符集设置"><a href="#三、mysql-数据库字符集设置" class="headerlink" title="三、mysql 数据库字符集设置"></a>三、mysql 数据库字符集设置</h2><p> 　mysql数据库存储数据时，默认编码为latinl，存储中文字符时，在调用时会显示为乱码，为了解决该乱码问题，需修改该mysql默认字符集为UTE-8　　</p>
<p>　　 装mariadb的是时候看已经默认为ute-8</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [(none)]&gt; show variables like &#x27;%char%&#x27;;</span><br><span class="line">+--------------------------+----------------------------+</span><br><span class="line">| Variable_name            | Value                      |</span><br><span class="line">+--------------------------+----------------------------+</span><br><span class="line">| character_set_client     | utf8                       |</span><br><span class="line">| character_set_connection | utf8                       |</span><br><span class="line">| character_set_database   | latin1                     |</span><br><span class="line">| character_set_filesystem | binary                     |</span><br><span class="line">| character_set_results    | utf8                       |</span><br><span class="line">| character_set_server     | latin1                     |</span><br><span class="line">| character_set_system     | utf8                       |</span><br><span class="line">| character_sets_dir       | /usr/share/mysql/charsets/ |</span><br><span class="line">+--------------------------+----------------------------+</span><br><span class="line">8 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<p>　　　　如不是，可以设置</p>
<p>　　　　SET character_set_client = utf8;</p>
<p>　　　　SET character_set_results = utf8;</p>
<p>　　　　SET character_set_connection = utf8;</p>
<h2 id="四、mysql-数据库密码管理"><a href="#四、mysql-数据库密码管理" class="headerlink" title="四、mysql 数据库密码管理"></a>四、mysql 数据库密码管理</h2><p>　　设置密码访问，密码破解、密码权限、修改密码；</p>
<h3 id="1、创建用户及授权"><a href="#1、创建用户及授权" class="headerlink" title="1、创建用户及授权"></a>1、创建用户及授权</h3><p>　　　　grant all on zxg.* to test@localhost identified by ‘pas’;</p>
<p>　　　　grant select,insert,update,delete on *.*to test@”%” identified by ‘pas’;</p>
<p>　　　　grant all on zxg.* to test@<code>192.168.216.53</code> identified by ‘pas’</p>
<h3 id="2、破解密码方法"><a href="#2、破解密码方法" class="headerlink" title="2、破解密码方法"></a>2、破解密码方法</h3><p>　　　　停止服务—》跳过权限方式启动—》单开一个窗口登陆—》登陆修改密码即可</p>
<p>　　　　1）systemctl stop mariadb</p>
<p>　　　　2）mysqld_safe –skip-grant-tables &amp;</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">[root@web2 ~]# mysqld_safe --skip-grant-tables &amp;</span><br><span class="line">[1] 47542</span><br><span class="line">[root@web2 ~]# 190520 15:45:22 mysqld_safe Logging to &#x27;/var/log/mariadb/mariadb.log&#x27;.</span><br><span class="line">190520 15:45:22 mysqld_safe Starting mysqld daemon with databases from /var/lib/mysql</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line">[root@web2 ~]# mysql</span><br><span class="line">Welcome to the MariaDB monitor.  Commands end with ; or \g.</span><br><span class="line">Your MariaDB connection id is 1</span><br><span class="line">Server version: 5.5.60-MariaDB MariaDB Server</span><br><span class="line"></span><br><span class="line">Copyright (c) 2000, 2018, Oracle, MariaDB Corporation Ab and others.</span><br><span class="line"></span><br><span class="line">Type &#x27;help;&#x27; or &#x27;\h&#x27; for help. Type &#x27;\c&#x27; to clear the current input statement.</span><br><span class="line"></span><br><span class="line">MariaDB [(none)]&gt; use mysql;</span><br><span class="line">Reading table information for completion of table and column names</span><br><span class="line">You can turn off this feature to get a quicker startup with -A</span><br><span class="line"></span><br><span class="line">Database changed</span><br><span class="line">MariaDB [mysql]&gt; update user set password=password(&#x27;11111111&#x27;) where user=&#x27;root&#x27; ;</span><br><span class="line">Query OK, 3 rows affected (0.01 sec)</span><br><span class="line">Rows matched: 4  Changed: 3  Warnings: 0</span><br><span class="line"></span><br><span class="line">MariaDB [mysql]&gt; flush privileges;</span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br><span class="line"></span><br><span class="line">MariaDB [mysql]&gt; exit</span><br><span class="line">Bye</span><br><span class="line">[root@web2 ~]# </span><br></pre></td></tr></table></figure>

<p>然后退出”跳过权限方式“ ctrl+c ，正常启动mysql就可以了</p>
<h2 id="五、mysql-配置文件详解"><a href="#五、mysql-配置文件详解" class="headerlink" title="五、mysql 配置文件详解"></a>五、mysql 配置文件详解</h2><h3 id="1、参数说明"><a href="#1、参数说明" class="headerlink" title="1、参数说明"></a>1、参数说明</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line">[mysqld]                                                              #服务端配置</span><br><span class="line">port        = 3306                                                    #监听端口</span><br><span class="line">socket      = /tmp/mysql.sock                                         #通信设置</span><br><span class="line">user    = mariadb                                                     #使用mariadb用户启动</span><br><span class="line">basedir = /usr/local/mariadb                                          #安装路径</span><br><span class="line">datadir = /data/mysql                                                 #数据目录</span><br><span class="line">log_error = /data/mysql/mariadb.err                             　　　 #错误日志</span><br><span class="line">pid-file = /data/mysql/mariadb.pid                             　　　　#pid进程文件</span><br><span class="line">skip-external-locking                                                 #避免mysql的外部锁定，减少出错几率提高稳定性</span><br><span class="line">key_buffer_size = 64M                                                 #缓存存储引擎参数，这个参数可以设置为64M</span><br><span class="line">max_allowed_packet = 1M                                               #允许最大接收数据包的大小，防止服务器发送过大的数据包，可以设置为16MB或者更大，但设置太大也可能有危险</span><br><span class="line">table_open_cache = 256                                                #mysql每打开一个表，都会读入一些数据到table_open_cache缓存中，当MYSQL在这个缓存中找不到相应的信息时，才会去磁盘读取，默认值64，假设系统有200个并发连接，则需将此参数设置为200*N（N为每个连接所需的文件描述符数目）；当设置为很大时，如果系统处理不了那么多文件描述符，那么就会出现客户端失效，连接不上</span><br><span class="line">sort_buffer_size = 1M                                                 #在表进行order by和group by 排序操作时，由于排序的字段没有索引，会出现Using filesort，为了提高性能，可用此参数增加每个线程分配的缓存区大小，默认时256k，这个参数不要设置过大，一般128~256k，另外一般出现using filesort的时候，要通过增加索引来解决</span><br><span class="line">net_buffer_length = 8K                                                #包消息缓冲区初始化net_buffer_length字节，但需要时可以增长到max_allowed_packet字节</span><br><span class="line">read_buffer_size = 1M                                                 #该参数用于表的顺序扫描，表示每个线程分配的缓冲区大小，比如在进行全表扫描时，mysql会按照数据的存储顺序一次读取数据块，每次读取的数据块首先会暂存在read_buffer_size中，当buffer空间被写满或者全部数据读取结束后，在将buffer中的数据返回给上层调用者，以提高效率默认128k，也不要设置过大</span><br><span class="line">read_rnd_buffer_size = 512K                                           #该参数用于表的随机读取，表示每个线程分配的缓冲区大小，比如，按照一个非索引字段做order by排序操作时，就会利用这个缓冲区来暂存读取的数据，默认时256k，也不要设置过大</span><br><span class="line">myisam_sort_buffer_size = 16M                                         #当myisam表执行repair table或创建索引时，用以缓冲排序索引，设置太小可能会遇到&quot;myisam_sort_buffer_size is to small&quot;</span><br><span class="line">thread_cache_size = 32                                                #线程池，线程缓冲。用来缓冲空闲的线程，以至于不被销毁，如果线程缓冲在的空闲线程，需要重新建立新连接，则会优先调用线程池中的缓冲，很快就能相应连接请求，每建立一个连接，都需要一个线程与之匹配。</span><br><span class="line">query_cache_size = 32M                                                #缓存select语句和结果集大小的参数。查询缓存会存储一个select查询的文本与被传送到客户端的相应结果。如果之后接收到一个相同的查询，服务器会从查询缓存中检索结果，而不是再次分析和执行这个同样的查询。如果你的环境中写操作很少，读操作频繁，那么打开query_cache_type=1，会对性能有明显提升。如果写操作频繁，则应该关闭它（query_cache_type=0）。</span><br><span class="line">tmp_table_size = 64M                                                  #临时HEAP数据表的最大长度(默认设置是32M); 超过这个长度的临时数据表将被转换为MyISAM数据表并存入一个临时文件。</span><br><span class="line">                                                                      #</span><br><span class="line">explicit_defaults_for_timestamp = true                     　　　　　　 #是否显示默认时间戳</span><br><span class="line">#skip-networking                                                      #</span><br><span class="line">max_connections = 500                                                 #该参数用来设置最大连接数，告诉你当前你的服务器允许多少并发连接。默认为100，一般设置为512-1000即可。请记住，太多的连接会导致内存的使用量过高并且会锁住你的 MySQL 服务器。一般小网站需要 100-200 的连接数，而较大可能需要 500-800 甚至更多。这里的值很大程度上取决于你 MySQL/MariaDB 的使用情况。</span><br><span class="line">max_connect_errors = 100                                              #如果有时网络抽风，或者应用配置错误，或者其他原因导致客户端短时间内不断的尝试连接，客户端可能会被列入黑名单，然后将无法连接，直到再次刷新主机缓存。这个选项默认值太小了，可以考虑设的足够大（如果你的服务器配置够强大的话）。</span><br><span class="line">open_files_limit = 65535                                              #mysql打开最大文件数</span><br><span class="line">                                                                      #</span><br><span class="line">log-bin=mysql-bin                                                     #这些路径相对于datadir</span><br><span class="line">binlog_format=mixed                                                   #日志格式</span><br><span class="line">server-id   = 1                                                       #给服务器分配一个独一无二的ID编号; n的取值范围是1~2的32次方启用二进制日志功能。在复制数据同步的时候会用到，Helloweba后面会有文章介绍。</span><br><span class="line">expire_logs_days = 10                                                 #启用二进制日志后，保留日志的天数。服务器会自动清理指定天数前的日志文件，如果不设置则会导致服务器空间耗尽。一般设置为7～14天。</span><br><span class="line">                                                                       #</span><br><span class="line">default_storage_engine = InnoDB                                     　#新数据表的默认存储引擎(默认设置是MyISAM)。这项设置还可以通过–default-table-type选项来设置。</span><br><span class="line">innodb_file_per_table = 1                                             #提供了更灵活的方式，它把每个数据库的信息保存在一个 .ibd 数据文件中。每个 .idb 文件代表它自己的表空间。通过这样的方式可以更快地完成类似 “TRUNCATE” 的数据库操作，当删除或截断一个数据库表时，你也可以回收未使用的空间。这样配置的另一个好处是你可以将某些数据库表放在一个单独的存储设备。这可以大大提升你磁盘的 I/O 负载。</span><br><span class="line">innodb_data_home_dir = /data/mysql                             　　　　#InnoDB主目录，所有与InnoDB数据表有关的目录或文件路径都相对于这个路径。在默认的情况下，这个主目录就是MySQL的数据目录。</span><br><span class="line">innodb_data_file_path = ibdata1:10M:autoextend     　　　　　　　　　　　#用来容纳InnoDB为数据表的表空间: 可能涉及一个以上的文件; 每一个表空间文件的最大长度都必须以字节(B)、兆字节(MB)或千兆字节(GB)为单位给出; 表空间文件的名字必须以分号隔开; 最后一个表空间文件还可以带一个autoextend属性和一个最大长度(max:n)。</span><br><span class="line">innodb_log_group_home_dir = /data/mysql                     　　　　　　#用来存放InnoDB日志文件的目录路径(如ib_logfile0、ib_logfile1等)。在默认的情况下，InnoDB驱动程序将使用 MySQL数据目录作为自己保存日志文件的位置。</span><br><span class="line">innodb_buffer_pool_size = 256M                                     　　#这个参数是InnoDB存储引擎的核心参数，默认为128KB，这个参数要设置为物理内存的60%～70%。</span><br><span class="line">innodb_log_file_size = 64M                                            #事务日志文件写操作缓存区的最大长度(默认设置是1MB)。</span><br><span class="line">innodb_log_buffer_size = 8M                                           #事务日志所使用的缓存区。InnoDB在写事务日志的时候，为了提高性能，先将信息写入Innodb Log Buffer中，当满足innodb_flush_log_trx_commit参数所设置的相应条件（或者日志缓冲区写满）时，再将日志写到文件（或者同步到磁盘）中。可以通过innodb_log_buffer_size参数设置其可以使用的最大内存空间。默认是8MB，一般为16～64MB即可。</span><br><span class="line">innodb_flush_log_at_trx_commit = 1                             　　　　#这个选项决定着什么时候把日志信息写入日志文件以及什么时候把这些文件物理地写(术语称为”同步”)到硬盘上。设置值0的意思是每隔一秒写一次日 志并进行 同步，这可以减少硬盘写操作次数，但可能造成数据丢失; 设置值1(设置设置)的意思是在每执行完一条COMMIT命令就写一次日志并进行同步，这可以防止数据丢失，但硬盘写操作可能会很频繁; 设置值2是一般折衷的办法，即每执行完一条COMMIT命令写一次日志，每隔一秒进行一次同步。</span><br><span class="line">innodb_lock_wait_timeout = 50                                         #如果某个事务在等待n秒(s)后还没有获得所需要的资源，就使用ROLLBACK命令放弃这个事务。这项设置对于发现和处理未能被InnoDB数据表驱动 程序识别出来的死锁条件有着重要的意义。这个选项的默认设置是50s。</span><br><span class="line">                                                                      #</span><br><span class="line">[mysqldump]                                                           #</span><br><span class="line">quick                                                                 #</span><br><span class="line">max_allowed_packet = 16M                                              #            </span><br><span class="line">                                                                      #</span><br><span class="line">[mysql]                                                               #</span><br><span class="line">no-auto-rehash                                                        #</span><br><span class="line">                                                                      #</span><br><span class="line">[myisamchk]                                                           #</span><br><span class="line">key_buffer_size = 64M                                                 #    </span><br><span class="line">sort_buffer_size = 1M                                                 #    </span><br><span class="line">read_buffer = 2M                                                      #</span><br><span class="line">write_buffer = 2M                                                     #</span><br><span class="line">                                                                      #</span><br><span class="line">[mysqlhotcopy]                                                        #</span><br><span class="line">interactive-timeout                                                   #</span><br><span class="line">                                                </span><br></pre></td></tr></table></figure>

<h3 id="2、mysql数据库索引案例（百万量级）"><a href="#2、mysql数据库索引案例（百万量级）" class="headerlink" title="2、mysql数据库索引案例（百万量级）"></a>2、mysql数据库索引案例（百万量级）</h3><p> [client]                     </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">port    =3306                                    </span><br><span class="line">socket    =/tmp/mysql.sock                       </span><br><span class="line">                                                </span><br><span class="line">[mysqld]                                                                               </span><br><span class="line">port        = 3306                                                           </span><br><span class="line">socket      = /tmp/mysql.sock                                     </span><br><span class="line">user    = mysql    server_id　　= 10datadir　　= /data/mysql/old_passwords　　= 1lower_case_table_names　　= 1character-set-server　　= utf8default-storage-engine　　= MYISAMlog-bin　　= bin.loglog-error　　= error.logpid-file　　= mysql.pidlong_query_time　　= 2slow_query_time　　= 2slow_query_log　slow_query_log_file　　= slow.logbinlog_cache_size　　= 4MBbinlog_format　　= mixedmax_binlog_cache_size　　= 16MBmax_binlog_size　　= 1GBexpire_logs_days　　= 30ft_min_word_len　　= 4back_log　　= 512max_allowed_packet　　= 64MBmax_connections　　= 4096max_connect_errors　　= 100join_buffer_size　　= 2MBread_buffer_size　　= 2MBread_rnd_buffer_size　　= 2MBsort_buffer_size　　　　= 2MBquery_cache_size　　= 2MBtable_open_cache　　= 10000thread_cache_size　　= 256max_heap_table_size　　= 64MBtmp_table_size　　= 64MBthread_stack　　= 192KBthread_concurrency　　= 24 local-infile　　= 0skip-show-databaseskip-name-resolveskip-external-lockingconnect_timeout　　= 600interactive_timeout　　= 600wait_timeout　　= 600#MyISAMkey_buffer_size　　= 512MBbulk_insert_buffer_size　　= 64MBmysiam_sort_buffer_size　　= 64MBmysiam_max_sort_file_size　　= 1GBmysiam_repair_threads　　= 1concurrent_insert　　= 2myisam_recover#INNODBinnodb_buffer_pool_size　　= 64Ginnodb_additional_mem_pool_size　　= 32MBinnodb_data_file_path　　=　ibdata1:1G;ibdata2:1G:autoextendinnodb_read_io_threads　　= 8innodb_write_io_threads 　　= 8innodb_file_per_table　　= 1innodb_flush_log_at_thx_commit　　= 2innodb_lock_wait_timeout　　= 120innodb_log_buffer_size　　= 8MBinnodb_log_file_size　　= 256MBinnodb_log_files_in_group　　= 3innodb_max_dirty_pages_pct　　= 90innodb_thread_concurrency　　= 16innodb_open_files　　= 10000#innodb_force_recovery　　= 4#replication slaveread-only#skip-salve-startrelay-log　　= relay.loglog-slave-updates</span><br></pre></td></tr></table></figure>

<p>本文参考：</p>
<p><a target="_blank" rel="noopener" href="https://www.centos.bz/2018/02/mariadb-mysql%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6my-cnf%E8%A7%A3%E8%AF%BB/">https://www.centos.bz/2018/02/mariadb-mysql%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6my-cnf%E8%A7%A3%E8%AF%BB/</a></p>
<h1 id="kali开启端口、关闭防火墙方法"><a href="#kali开启端口、关闭防火墙方法" class="headerlink" title="kali开启端口、关闭防火墙方法"></a>kali开启端口、关闭防火墙方法</h1><p>发布时间：2020年02月28日 阅读：13178 次</p>
<p>先安装ufw命令</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get install ufw</span><br></pre></td></tr></table></figure>

<p>ufw命令用法</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">检查防火墙的状态（默认 inactive） <span class="comment"># ufw status			防火墙版本  ufw version</span></span><br><span class="line">启动ufw防火墙 <span class="comment"># ufw enable							关闭ufw防火墙 # ufw disable</span></span><br><span class="line">默认禁止访问所有 <span class="comment"># ufw default deny					   开放22/TCP端口 # ufw allow 22/tcp</span></span><br><span class="line">开放53端口(tcp/udp) <span class="comment"># ufw allow 53					  禁止外部访问 # ufw deny 3306</span></span><br><span class="line">删除已经添加过的规则 <span class="comment"># ufw delete allow 22			  允许此IP访问所有的本机端口 # ufw allow from 192.168.1.100						</span></span><br><span class="line">删除上面的规则 <span class="comment"># ufw delete allow from 192.168.1.100</span></span><br><span class="line">查看规则，显示行号 <span class="comment"># ufw status numbered				   删除第三条规则 # ufw delete 3</span></span><br><span class="line">关闭ufw <span class="comment"># ufw disable								   禁止对8888端口的访问 # ufw deny 8888</span></span><br><span class="line">打开来自192.168.0.1的tcp请求的22端口 <span class="comment"># ufw allow proto tcp from 192.168.0.1 to any port 22</span></span><br></pre></td></tr></table></figure>

<h1 id="kali-linux如何打开mysql-Navicat联接kali-Linux中的mysql"><a href="#kali-linux如何打开mysql-Navicat联接kali-Linux中的mysql" class="headerlink" title="kali linux如何打开mysql,Navicat联接kali Linux中的mysql"></a>kali linux如何打开mysql,Navicat联接kali Linux中的mysql</h1><p><img src="https://csdnimg.cn/release/blogv2/dist/pc/img/reprint.png" alt="img"></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_29838739">Xenophon Tony</a><img src="https://csdnimg.cn/release/blogv2/dist/pc/img/newCurrentTime2.png" alt="img">于 2021-05-07 00:25:32 发布<img src="https://csdnimg.cn/release/blogv2/dist/pc/img/articleReadEyes2.png" alt="img">579</p>
<p>文章标签： <a target="_blank" rel="noopener" href="https://so.csdn.net/so/search/s.do?q=kali+linux%E5%A6%82%E4%BD%95%E6%89%93%E5%BC%80mysql&t=blog&o=vip&s=&l=&f=&viparticle=">kali linux如何打开mysql</a></p>
<p><a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=Navicat&spm=1001.2101.3001.7020">Navicat</a>联接kali Linux中的mysql</p>
<p>一. 在<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=kali&spm=1001.2101.3001.7020">kali</a>中默认已安装mysql</p>
<p>service mysql start 开启mysql服务</p>
<p>ps aux|<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=grep&spm=1001.2101.3001.7020">grep</a> mysql 查看是否开启mysql服务</p>
<p>service mysql stop 关闭服务</p>
<p>service mysql status查看服务的当前状态也</p>
<p>service mysql restart 重新开启服务</p>
<p>注释：如果没有安装，可以使用sudo apt-get install mysql-server</p>
<p>二，配置mysql</p>
<p>vim /etc/mysql/mysql/mysql.conf.d/mysql.cnf</p>
<p>将bind-address = 127.0.0.0 修改为 0.0.0.0</p>
<p>三，修改mysql的用户</p>
<p>在kali中mysql的默认账号为</p>
<p>账户：root 密码为无</p>
<p>直接输入 mysql 可以进入</p>
<p>如果需要修改密码 ：</p>
<p>1，mysql</p>
<p>2，show databases; 查看数据库中所有的数据库</p>
<p>3，use mysql； 使用mysql数据库</p>
<p>4，show tables; 查看叫mysql的数据库中所有的表</p>
<p>5，update user set password=password(‘toor’) where user=’root’; 设置密码</p>
<p>6，flush privileges;刷新</p>
<p>四，修改mysql的权限，可以让其他主机访问到</p>
<p>在mysql命令行中输入：</p>
<p>GREANT ALL PRIVILEGES ON . TO ‘root(用户名)’ IDENTIFIED BY ‘toor(密码)’ WITH GRANT OPTION;</p>
<p>flush privileges;</p>
<p>五，下载安装Navicat</p>
<p><a target="_blank" rel="noopener" href="http://http//download.csdn.net/detail/muier/9189743">http://http://download.csdn.net/detail/muier/9189743</a></p>
<p>输入ip地址，账号密码，点击连接测试，成功后，点击确定进入数据库。</p>
<h1 id="kali-安装nginx服务器"><a href="#kali-安装nginx服务器" class="headerlink" title="kali 安装nginx服务器"></a>kali 安装nginx服务器</h1><p><a target="_blank" rel="noopener" href="https://www.zhihu.com/people/barrypro"><img src="https://pic3.zhimg.com/v2-a2875c81b552fc2dd2119c8f1e9c850e_xs.jpg?source=172ae18b" alt="BarryPro"></a></p>
<p><a target="_blank" rel="noopener" href="https://www.zhihu.com/people/barrypro">BarryPro</a><a target="_blank" rel="noopener" href="https://www.zhihu.com/question/48510028"></a></p>
<h3 id="1-去官网下载最新版的安装包，以nginx-1-16-1为例"><a href="#1-去官网下载最新版的安装包，以nginx-1-16-1为例" class="headerlink" title="1.去官网下载最新版的安装包，以nginx-1.16.1为例"></a>1.去官网下载最新版的安装包，以nginx-1.16.1为例</h3><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://nginx.org/download/nginx-1.16.1.tar.gz</span><br></pre></td></tr></table></figure>

<h3 id="2-解压tar-gz-文件到指定路径"><a href="#2-解压tar-gz-文件到指定路径" class="headerlink" title="2.解压tar.gz 文件到指定路径"></a>2.解压tar.gz 文件到指定路径</h3><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf nginx-1.16.1.tar.gz -C /home/root/moudle/</span><br><span class="line">cd /home/root/moudle/</span><br><span class="line"># 这个路径是源码路径</span><br><span class="line">cd nginx-1.16.1</span><br><span class="line"># --prefix 后面指定的是编译后的nginx软件的安装路径，这一步可能会报错，如果报错就按照第3步来</span><br><span class="line">./configure --prefix=/home/root/nginx</span><br></pre></td></tr></table></figure>

<h3 id="3-缺少pcre包解决"><a href="#3-缺少pcre包解决" class="headerlink" title="3.缺少pcre包解决"></a>3.缺少pcre包解决</h3><h3 id="3-1报错详情"><a href="#3-1报错详情" class="headerlink" title="3.1报错详情"></a>3.1报错详情</h3><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">./configure: error: the HTTP rewrite module requires the PCRE library. You can either disable the module by using </span><br><span class="line">--without-http_rewrite_module option, or install the PCRE library into the system, or build the PCRE library statically</span><br><span class="line">from the source with nginx by using --with-pcre= option. </span><br></pre></td></tr></table></figure>

<h3 id="3-2解决方法"><a href="#3-2解决方法" class="headerlink" title="3.2解决方法"></a>3.2解决方法</h3><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 下载最新版的pcre包</span><br><span class="line">https://sourceforge.net/projects/pcre/files/latest/download</span><br></pre></td></tr></table></figure>

<h3 id="4-指定pcre源码包路径继续安装"><a href="#4-指定pcre源码包路径继续安装" class="headerlink" title="4.指定pcre源码包路径继续安装"></a>4.指定pcre源码包路径继续安装</h3><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># 安装pcre2</span><br><span class="line">cd /home/root/moudle/pcre2-10.33</span><br><span class="line">./configure</span><br><span class="line">make install</span><br><span class="line"># /home/root/moudle/nginx-1.16.1</span><br><span class="line">./configure --prefix=/home/root/nginx --with-pcre=/home/root/pcre2-10.33</span><br></pre></td></tr></table></figure>

<h3 id="5-缺少zlib包"><a href="#5-缺少zlib包" class="headerlink" title="5.缺少zlib包"></a>5.缺少zlib包</h3><h3 id="5-1报错详情"><a href="#5-1报错详情" class="headerlink" title="5.1报错详情"></a>5.1报错详情</h3><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">./configure: error: the HTTP gzip module requires the zlib library. You can either disable the module by using</span><br><span class="line">--without-http_gzip_module option, or install the zlib library into the system, or build the zlib library statically</span><br><span class="line">from the source with nginx by using --with-zlib= option. </span><br></pre></td></tr></table></figure>

<h3 id="5-2解决方法"><a href="#5-2解决方法" class="headerlink" title="5.2解决方法"></a>5.2解决方法</h3><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 下载最新的zlib包</span><br><span class="line">http://www.zlib.net/zlib-1.2.11.tar.gz</span><br><span class="line"># 同第1步的解压一样，进入解压后的文件夹</span><br><span class="line">./configure</span><br><span class="line">make install</span><br></pre></td></tr></table></figure>

<h3 id="6-安装完依赖包后重新生成Makefile文件"><a href="#6-安装完依赖包后重新生成Makefile文件" class="headerlink" title="6.安装完依赖包后重新生成Makefile文件"></a>6.安装完依赖包后重新生成Makefile文件</h3><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./configure --prefix=/home/root/nginx --with-pcre=/home/root/pcre2-10.33</span><br></pre></td></tr></table></figure>

<h3 id="7-使用make编译并安装nginx服务器"><a href="#7-使用make编译并安装nginx服务器" class="headerlink" title="7.使用make编译并安装nginx服务器"></a>7.使用make编译并安装nginx服务器</h3><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># /home/root/moudle/nginx-1.16.1</span><br><span class="line">make</span><br></pre></td></tr></table></figure>

<h3 id="8-编译软件继续报错……"><a href="#8-编译软件继续报错……" class="headerlink" title="8.编译软件继续报错……"></a>8.编译软件继续报错……</h3><h3 id="8-1报错详情"><a href="#8-1报错详情" class="headerlink" title="8.1报错详情"></a>8.1报错详情</h3><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cd /home/root/module/pcre2-10.33 \ &amp;&amp; make libpcre.la make[2]: 进入目录“/home/root/module/pcre2-10.33” make[2]:  </span><br><span class="line">没有规则可制作目标“libpcre.la”。 停止。 make[2]: 离开目录“/home/root/module/pcre2-10.33” make[1]:  [objs/Makefile:1209：/</span><br><span class="line">home/root/module/pcre2-10.33/.libs/libpcre.a] 错误 2 make[1]: 离开目录“/home/root/module/nginx-1.16.1” make: *** [</span><br><span class="line">Makefile:8：build] 错误 2 </span><br></pre></td></tr></table></figure>

<h3 id="8-2解决方法"><a href="#8-2解决方法" class="headerlink" title="8.2解决方法"></a>8.2解决方法</h3><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># 原来是nginx不支持pcre2报错找不到文件，重新下载pcre-8.43</span><br><span class="line">https://ftp.pcre.org/pub/pcre/pcre-8.43.tar.gz</span><br><span class="line"># 重复第4步 安装pcre</span><br></pre></td></tr></table></figure>

<h3 id="9-进入nginx的安装目录开始使用服务器"><a href="#9-进入nginx的安装目录开始使用服务器" class="headerlink" title="9.进入nginx的安装目录开始使用服务器"></a>9.进入nginx的安装目录开始使用服务器</h3><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cd /home/root/nginx</span><br><span class="line">cd sbin</span><br><span class="line"># 查看nginx服务器版本</span><br><span class="line">./nginx -v</span><br></pre></td></tr></table></figure>

<h3 id="9-1-版本信息"><a href="#9-1-版本信息" class="headerlink" title="9.1 版本信息"></a>9.1 版本信息</h3><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">➜  sbin ./nginx -v</span><br></pre></td></tr></table></figure>

<p>nginx version: nginx/1.16.1</p>
<h3 id="9-2-显示更多详细信息"><a href="#9-2-显示更多详细信息" class="headerlink" title="9.2 显示更多详细信息"></a>9.2 显示更多详细信息</h3><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">➜  sbin ./nginx -V nginx version: nginx/1.16.1 built by gcc 9.2.1 </span><br><span class="line">20190821 (Debian 9.2.1-4)  configure arguments: </span><br><span class="line">--prefix=/home/root/nginx --with-pcre=/home/root/module/pcre-8.43 </span><br></pre></td></tr></table></figure>

<h1 id="kali-mysql安装教程-Kali中安装mysql自动安装脚本"><a href="#kali-mysql安装教程-Kali中安装mysql自动安装脚本" class="headerlink" title="kali mysql安装教程_Kali中安装mysql自动安装脚本"></a>kali mysql安装教程_Kali中安装mysql自动安装脚本</h1><p>查看创建的mysql用户：</p>
<p>cat /etc/passwd | grep mysql</p>
<p>安装步骤：</p>
<p>1.先删除mariadb</p>
<p>apt-get autoremove –purge mariadb-client-core-10.3</p>
<p>apt-get autoremove –purge</p>
<p>2.把mysql的压缩包文件放入到/usr/local</p>
<p>3.执行解压命令</p>
<p>tar -zxvf mysql-5.7.20-linux-glibc2.12-x86_64.tar.gz</p>
<p>4.修改文件名</p>
<p>mv mysql-5.7.20-linux-glibc2.12-x86_64 mysql</p>
<p>5.创建用户：</p>
<p>userdel mysql</p>
<p>groupadd mysql</p>
<p>useradd -r -g mysql mysql</p>
<p>chown -R mysql:mysql mysql</p>
<p>6.切换到mysql用户：</p>
<p>su mysql</p>
<p>7.进入到安装目录：</p>
<p>cd mysql</p>
<p>./bin/mysqld –initialize –user=mysql –basedir=/usr/local/mysql –datadir=/usr/local/mysql/data</p>
<p>9.exit退出mysql用户</p>
<p>10.拷贝文件：</p>
<p>cp support-files/mysql.server /etc/init.d/mysql</p>
<p>cp support-files/my-default.cnf /etc/my.cnf (5.7没有这个文件，自己找一个)</p>
<p>cp bin/mysql /usr/bin/</p>
<p>11.创建log文件输出路径：</p>
<p>mkdir log</p>
<p>touch log/mysqld.log</p>
<p>chown -R mysql:mysql log/</p>
<p>chmod -R 755 log/mysqld.log</p>
<p>12.修改配置文件vim /etc/init.d/mysql</p>
<p>basedir=/usr/local/mysql</p>
<p>datadir=/usr/local/mysql/data (这个拷贝文件中如果添加，就不需要改了)</p>
<p>修改下配置文件：vim /etc/my.cnf</p>
<p>[client]</p>
<p>default-character-set=utf8</p>
<p>[mysqld]</p>
<p>character-set-server=utf8</p>
<p>datadir=/usr/local/mysql/data</p>
<p>basedir=/usr/local/mysql</p>
<p>socket=/tmp/mysql.sock</p>
<p>max_heap_table_size = 512M</p>
<p>[mysqld_safe]</p>
<p>log-error=/usr/local/mysql/log/mysqld.log</p>
<p>另外将被注释掉的innodb_buffer_pool_size = 128M放开(缺省值是8M，在批量插入数据过多时会产生错误，memsql设置128即可，MySQL需要设置为9G)</p>
<p>启动数据库：</p>
<p>service mysql start</p>
<p>运行命令：vi /etc/my.cnf，编辑文件</p>
<p>在文件的[mysqld]标签下添加一句：skip-grant-tables</p>
<p>service mysql stop</p>
<p>service mysql start</p>
<p>进入数据库：mysql -u root</p>
<p>使用数据库：use mysql;</p>
<p>运行：</p>
<p>update mysql.user set authentication_string=password(‘root’) where user=’root’;</p>
<p>root_password替换成你想要的密码</p>
<p>exit退出</p>
<p>把my.conf的skip-grant-tables删除，重启数据库，</p>
<p>修改自己的账号：</p>
<p>ALTER USER ‘root‘@’localhost’ IDENTIFIED BY ‘root’;</p>
<p>刷新权限</p>
<p>flush privileges;</p>
<p>退出：</p>
<p>quit;</p>
<p>设置访问权限：</p>
<p>GRANT ALL PRIVILEGES ON <em>.</em> TO ‘root‘@’%’ IDENTIFIED BY ‘root’ WITH GRANT OPTION;</p>
<p>刷新访问权限表</p>
<p>flush privileges;</p>
<p>刷新服务：</p>
<p>service mysql restart</p>
<p>重启服务：</p>
<p>service mysql restart;</p>
<p>添加用户：</p>
<p>CREATE USER ‘用户名‘@’localhost’ IDENTIFIED BY ‘密码’;</p>
<p>自动安装脚本：网上的好多都不能用。</p>
<p>#!/bin/bash</p>
<p>#coding: utf-8</p>
<p>#filename: mysql_install.sh</p>
<p>#version: 1.0</p>
<p>#desc: mysql-5.7.28-linux-glibc2.12-x86_64.tar.gz 安装脚本</p>
<p>#attention: 需要 root 用户执行</p>
<p>echo ‘1、判断当前用户是否为root用户’</p>
<p>if [ $(id -u) != “0” ];then</p>
<p>echo “error: you must be root run this script”</p>
<p>exit 1</p>
<p>fi</p>
<p>echo ‘2、定义变量’</p>
<p>WKDIR=$(pwd)</p>
<p>INSTALL_HOME=”/opt/module”</p>
<p>MYSQL_HOME=”$INSTALL_HOME/mysql5.7”</p>
<p>MYSQL_DATA=”$MYSQL_HOME/data”</p>
<p>MYSQLD_HOME=”/var/run/mysqld/mysqld.sock”</p>
<p>[ -d $INSTALL_HOME ] || mkdir -p $INSTALL_HOME</p>
<p>echo ‘ 3、检验安装目录’</p>
<p>if [ -d $MYSQL_HOME ];then</p>
<p>echo “erro: your system have installed mysql”</p>
<p>exit 1</p>
<p>fi</p>
<p>echo ‘ 4、卸载系统自带数据库’</p>
<p>apt-get remove mariadb* -y</p>
<p>apt-get remove mysql-common -y</p>
<p>echo ‘5、开始安装’</p>
<p>echo “start installing mysql”</p>
<p>echo ‘ 解压’</p>
<p>echo “start tar…”</p>
<p>tar -xf mysql-5.7.28-linux-glibc2.12-x86_64.tar.gz</p>
<p>mv mysql-5.7.28-linux-glibc2.12-x86_64 $MYSQL_HOME</p>
<p>echo “tar complete”</p>
<p>[ -d $MYSQL_DATA ] || mkdir -p $MYSQL_DATA</p>
<p>echo ‘ 创建用户’</p>
<p>id mysql &gt; /dev/null 2&gt;&amp;1</p>
<p>if [ $? -ne 0 ];then</p>
<p>useradd -s /sbin/nologin -M mysql</p>
<p>fi</p>
<p>echo ‘ 创建配置文件及日志目录’</p>
<p>mkdir -p $MYSQL_HOME/etc</p>
<p>mkdir -p $MYSQL_HOME/logs</p>
<p>mkdir -p $MYSQL_HOME/tmp</p>
<p>mkdir -p /var/run/mysqld</p>
<p>chown -R mysql:mysql /var/run/mysqld/</p>
<p>echo ‘ 更改 mysql 目录所属用户和组’</p>
<p>chown -R mysql:mysql $MYSQL_HOME</p>
<p>echo “initializing mysql”</p>
<p>echo ‘ 初始化 mysql 数据库’</p>
<p>$MYSQL_HOME/bin/mysqld –initialize –basedir=$MYSQL_HOME –datadir=$MYSQL_DATA –user=mysql</p>
<p>echo ‘ 创建配置文件’</p>
<p>cat &gt;$MYSQL_HOME/etc/my.cnf&lt;</p>
<p>[mysqld]</p>
<p>daemonize = on</p>
<p>user = mysql</p>
<p>port = 3306</p>
<p>skip-grant-tables</p>
<p>basedir = /opt/module/mysql5.7</p>
<p>datadir = /opt/module/mysql5.7/data</p>
<p>socket = /var/run/mysqld/mysqld.sock</p>
<p>pid-file = /opt/module/mysql5.7/tmp/mysqld.pid</p>
<p>log-error = /opt/module/mysql5.7/logs/mysqld.log</p>
<p>character-set-server=utf8</p>
<p>collation-server=utf8_general_ci</p>
<p>innodb_buffer_pool_size = 10G</p>
<p>innodb_log_file_size = 512M</p>
<p>max_heap_table_size=5120M</p>
<p>max_allowed_packet=100M</p>
<p>max_connections=1000</p>
<p>event_scheduler=ON</p>
<p>lower_case_table_names=1</p>
<p>sql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES</p>
<p>[client]</p>
<p>socket = /var/run/mysqld/mysqld.sock</p>
<p>default-character-set=utf8</p>
<p>EOF</p>
<p>echo ‘ 注册服务’</p>
<p>cat &gt;/lib/systemd/system/mysqld.service&lt;</p>
<p>[Unit]</p>
<p>Description=MySQL Server</p>
<p>Documentation=man:mysqld(8)</p>
<p>After=network.target</p>
<p>After=syslog.target</p>
<p>[Install]</p>
<p>WantedBy=multi-user.target</p>
<p>[Service]</p>
<p>User=mysql</p>
<p>Group=mysql</p>
<p>Type=forking</p>
<p>TimeoutSec=0</p>
<p>PermissionsStartOnly=true</p>
<p>ExecStart=/opt/module/mysql5.7/bin/mysqld –defaults-file=/opt/module/mysql5.7/etc/my.cnf</p>
<p>LimitNOFILE = 5000</p>
<p>Restart=on-failure</p>
<p>PrivateTmp=false</p>
<p>EOF</p>
<p>echo ‘ 配置环境变量’</p>
<p>cat &gt; /etc/profile.d/mysql.sh&lt;</p>
<p>export PATH=$PATH:/opt/module/mysql5.7/bin</p>
<p>EOF</p>
<p>echo ‘ 使配置的环境变量生效’</p>
<p>source /etc/profile.d/mysql.sh</p>
<p>cp $MYSQL_HOME/bin/mysql /usr/bin/</p>
<p>echo ‘ 启动服务’</p>
<p>systemctl start mysqld</p>
<p>systemctl enable mysqld</p>
<p>#按照hydra</p>
<p>cd $WKDIR</p>
<p>dpkg -i libmariadb3_1%3a10.3.22-1_amd64.deb mysql-common_5.8+1.0.5_all.deb libmariadb3_1%3a10.3.22-1_amd64.deb mariadb-common_1%3a10.3.22-1_all.deb hydra_9.0-1_amd64.deb</p>
<p>#设置开机启动</p>
<p>systemctl enable /lib/systemd/system/mysqld.service</p>
<p>echo “=======进入数据库=======”</p>
<p>mysql –socket=$MYSQLD_HOME -uroot -e “update mysql.user set authentication_string=password(‘root’) where user=’root’;”</p>
<p>echo “======删除my.conf中的skip-grant-tablese删除=====”</p>
<p>sed -i ‘5d’ /opt/module/mysql5.7/etc/my.cnf;</p>
<p>service mysqld restart</p>
<p>echo “=====设置root的访问权限=====”</p>
<p>mysql –socket=$MYSQLD_HOME -uroot -proot –connect-expired-password -e “alter user ‘root‘@’localhost’ identified by ‘’;”</p>
<p>mysql –socket=$MYSQLD_HOME -uroot -pblessme -e “GRANT ALL PRIVILEGES ON <em>.</em> TO ‘root‘@’%’ IDENTIFIED BY ‘root’ WITH GRANT OPTION;”</p>
<p>echo “=====添加新的用户======”</p>
<p>mysql –socket=$MYSQLD_HOME -uroot -pblessme -e “CREATE USER ‘oms‘@’localhost’ IDENTIFIED BY ‘1234’;”</p>
<p>mysql –socket=$MYSQLD_HOME -uroot -pblessme -e “GRANT GRANT OPTION ON <em>.</em> TO ‘oms‘@’localhost’;”</p>
<p>mysql –socket=$MYSQLD_HOME -uroot -pblessme -e “GRANT SELECT, INSERT, UPDATE, DELETE, CREATE, DROP, RELOAD, SHUTDOWN, PROCESS, FILE, REFERENCES, INDEX, ALTER, SHOW DATABASES, SUPER, CREATE TEMPORARY TABLES, LOCK TABLES, EXECUTE, REPLICATION SLAVE, REPLICATION CLIENT, CREATE VIEW, SHOW VIEW, CREATE ROUTINE, ALTER ROUTINE, CREATE USER, EVENT, TRIGGER ON <em>.</em> TO ‘oms‘@’localhost’;”</p>
<p>mysql –socket=$MYSQLD_HOME -uroot -pblessme -e “ALTER USER ‘oms‘@’localhost’ IDENTIFIED WITH mysql_native_password BY ‘1234’;”</p>
<p>service mysqld restart</p>
<p>echo “开始创建 数据库”;</p>
<p>mysql –socket=$MYSQLD_HOME -uoms -p1234 -e “create database dris_common default charset ‘utf8’ collate ‘utf8_bin’;”</p>
<p>mysql –socket=$MYSQLD_HOME -uoms -p1234 -e “create database dris_state default charset ‘utf8’ collate ‘utf8_bin’;”</p>
<p>mysql –socket=$MYSQLD_HOME -uoms -p1234 -e “create database dris_history default charset ‘utf8’ collate ‘utf8_bin’;”</p>
<p>mysql –socket=$MYSQLD_HOME -uoms -p1234 -e “create database dris_asset default charset ‘utf8’ collate ‘utf8_bin’;”</p>
<p>mysql –socket=$MYSQLD_HOME -uoms -p1234 -e “create database syslog default charset ‘utf8’ collate ‘utf8_bin’;”</p>
<p>mysql –socket=$MYSQLD_HOME -uoms -p1234 &lt;</p>
<p>use dris_common;</p>
<p>source sql/dris_common.sql;</p>
<p>use dris_state;</p>
<p>source sql/dris_state.sql;</p>
<p>use dris_history;</p>
<p>source sql/dris_history.sql;</p>
<p>use dris_asset;</p>
<p>source sql/dris_asset.sql;</p>
<p>EOF</p>
<p>echo “开始创建 数据库完成”;</p>
<h1 id="Kali–MariaDB安装-使用-改密-卸载一条龙"><a href="#Kali–MariaDB安装-使用-改密-卸载一条龙" class="headerlink" title="Kali–MariaDB安装,使用,改密,卸载一条龙"></a><a target="_blank" rel="noopener" href="https://www.cnblogs.com/qinghemo/p/14342678.html">Kali–MariaDB安装,使用,改密,卸载一条龙</a></h1><h2 id="Kali-MariaDB安装使用"><a href="#Kali-MariaDB安装使用" class="headerlink" title="Kali-MariaDB安装使用"></a>Kali-MariaDB安装使用</h2><blockquote>
<p>据说mysql现在对kali收费,所以得用其他数据库代替,这里倒腾了下mariadb</p>
</blockquote>
<hr>
<h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><ol>
<li>安装mariadb-client</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install mariadb-client</span><br></pre></td></tr></table></figure>

<ol>
<li>安装mariadb-server</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install mariadb-server</span><br></pre></td></tr></table></figure>

<ol>
<li>设置为开机启动服务</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">systemctl enable mysql</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">停止开机启动可以用如下命令</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">systemctl <span class="built_in">disable</span> mysql</span></span><br></pre></td></tr></table></figure>

<hr>
<h2 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h2><h3 id="初始化"><a href="#初始化" class="headerlink" title="初始化"></a>初始化</h3><p>第一次使用时,需要初始化,此时设置登录数据库的密码</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql_secure_installation </span><br></pre></td></tr></table></figure>

<h3 id="忘记密码"><a href="#忘记密码" class="headerlink" title="忘记密码"></a>忘记密码</h3><ol>
<li>知道数据库root密码需要修改,直接在shell修改</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqladmin -uroot -p[oldpassword] password newpassword</span><br></pre></td></tr></table></figure>

<ol>
<li>登录数据库修改</li>
</ol>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">use mysql;</span><br><span class="line"><span class="comment">-- 查看数据库用户信息</span></span><br><span class="line"><span class="keyword">select</span> host,<span class="keyword">user</span>,plugin,authentication_string <span class="keyword">from</span> mysql.user;</span><br><span class="line"><span class="comment">-- 修改密码</span></span><br><span class="line"><span class="keyword">UPDATE</span> <span class="keyword">user</span> <span class="keyword">SET</span> password<span class="operator">=</span>password(<span class="string">&#x27;newpassword&#x27;</span>) <span class="keyword">WHERE</span> <span class="keyword">user</span><span class="operator">=</span><span class="string">&#x27;root&#x27;</span>;</span><br><span class="line"><span class="comment">-- 新版MySQL采用此SQL</span></span><br><span class="line"><span class="keyword">UPDATE</span> <span class="keyword">user</span> <span class="keyword">SET</span> authentication_string<span class="operator">=</span>PASSWORD(<span class="string">&#x27;newpassword&#x27;</span>) <span class="keyword">where</span> <span class="keyword">USER</span><span class="operator">=</span><span class="string">&#x27;root&#x27;</span>;</span><br><span class="line"><span class="comment">-- 修改密码</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">USER</span> <span class="string">&#x27;root&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span> IDENTIFIED <span class="keyword">WITH</span> mysql_native_password <span class="keyword">BY</span> <span class="string">&#x27;123456&#x27;</span>;</span><br><span class="line">flush privilieges;</span><br><span class="line">exit;</span><br></pre></td></tr></table></figure>

<ol>
<li>使用set指令设置root密码<br>登录数据库</li>
</ol>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SET</span> password <span class="keyword">for</span> <span class="string">&#x27;root&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span><span class="operator">=</span>password(<span class="string">&#x27;newpassword&#x27;</span>); </span><br><span class="line">exit; </span><br></pre></td></tr></table></figure>

<ol>
<li>忘记数据库root密码,则要跳过授权的方式启动mariadb以修改密码</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">停止服务</span></span><br><span class="line">systemctl stop mariadb</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">设置跳过授权启动mariadb,然后登录数据库用2,3方法修改数据库密码</span></span><br><span class="line">mysqld_safe --skip-grant-tables &amp;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">修改密码后,跳权启动设置失效,设置正常启动mariadb</span></span><br><span class="line">systemctl start mariadb</span><br></pre></td></tr></table></figure>

<ol>
<li>修改登录mariadb的方式,从unix socket密码登录<br>Mariadb在5.2.0以后的版本默认不再使用密码认证了，改用Authentication Plugin - Unix Socket插件认证。而Unix Socke插件认证直接忽略密码. 通过以下方式可以切换回密码登录</li>
</ol>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">use mysql;</span><br><span class="line"><span class="keyword">update</span> mysql.user <span class="keyword">set</span> plugin<span class="operator">=</span><span class="string">&#x27;mysql_native_password&#x27;</span> <span class="keyword">where</span> <span class="keyword">User</span><span class="operator">=</span><span class="string">&#x27;root&#x27;</span>;</span><br><span class="line">flush privileges;</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="卸载"><a href="#卸载" class="headerlink" title="卸载"></a>卸载</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get remove mariadb-client</span><br><span class="line">sudo apt-get autoremove mariadb-client</span><br><span class="line"> </span><br><span class="line">sudo apt-get remove mariadb-server</span><br><span class="line">sudo apt-get autoremove mariadb-server</span><br></pre></td></tr></table></figure>

<hr>
<p>分类: <a target="_blank" rel="noopener" href="https://www.cnblogs.com/qinghemo/category/1574729.html">Database</a>, <a target="_blank" rel="noopener" href="https://www.cnblogs.com/qinghemo/category/1924375.html">Linux</a></p>
<h1 id="Kali-2019-4-下卸载并重新安装MySQL"><a href="#Kali-2019-4-下卸载并重新安装MySQL" class="headerlink" title="Kali 2019.4 下卸载并重新安装MySQL"></a>Kali 2019.4 下卸载并重新安装MySQL</h1><p>一、完全卸载Mysql</p>
<p>首先用 dpkg –list | grep mysql 查看自己的mysql有哪些依赖<br>卸载mysql相关应用   apt-get remove mysql*<br> 再用 dpkg –list|grep mysql 查看，还剩什么就卸载什么<br>最后清除残留数据：</p>
<p>dpkg -l | grep ^rc | awk ‘{print $2}’ | sudo xargs dpkg -P</p>
<p>保险起见再执行以下命令：</p>
<p>apt-get remove mariadb-client</p>
<p>apt-get autoremove mariadb-client</p>
<p>apt-get remove mariadb-server</p>
<p>apt-get autoremove mariadb-server</p>
<p>如果提示没有安装所以不用删除说明删干净了</p>
<p>二、安装Mariadb</p>
<p>这里因为kali的版本没有mysql的包，所以来安装Mariadb</p>
<p>apt-get install mariadb-client-10.3</p>
<p>apt-get install mariadb-server-10.3</p>
<p>如果不指定版本安装的就是最新的</p>
<p>之后输入vim /etc/mysql/my.cnf，添加以下内容：</p>
<p>[client-server]</p>
<p>port=3306</p>
<p>socket=/tmp/mysql.sock</p>
<p>[mysql]</p>
<p>#default-character-set=utf8</p>
<p>[mysqld]</p>
<p>basedir=/usr/local/mysql/</p>
<p>datadir=/usr/local/mysql/data/mysql</p>
<p>character-set-server=utf8</p>
<p>tmpdir=/tmp</p>
<p>:wq! 保存</p>
<p>然后配置mysql开机自启动, sudo systemctl enable mysql</p>
<pre><code>   启动mysql,   service mysql start
</code></pre>
<p>三、配置Mariadb数据库</p>
<p>命令行下输入mysql ，进入Mariadb命令行界面<br>show databases;<br>use mysql<br>show tables;<br>desc user;<br>select User, Host, Password from user;<br>为root用户设置密码 update user set Password=password(‘123456’) where User=’root’;<br>flush privileges;<br>Ctrl + D退出Mariadb命令行，验证密码是否设置成功<br>mysql -u root -p</p>
<p>Mariadb用户权限与管理【转】MariaDB/MySQL用户和权限管理<br>四、Mariadb密码无效</p>
<p>在新版的Mariadb安装过程中没有设置密码的过程了，而在命令行你发现直接用mysql就可以登录数据库，完全不用密码，然而你用其他的mysql管理工具使用密码无论如何都会提示 Access denied for user ‘root’@‘localhost’ 。</p>
<p>Mariadb在5.2.0以后的版本默认不再使用密码认证了，改用Authentication Plugin - Unix Socket插件认证。具体参考<a target="_blank" rel="noopener" href="https://mariadb.com/kb/en/library/authentication-plugin-unix-socket/">https://mariadb.com/kb/en/library/authentication-plugin-unix-socket/</a></p>
<h2 id="解决方法："><a href="#解决方法：" class="headerlink" title="解决方法："></a>解决方法：</h2><p>​        虽然这是为了提高安全性，但有的地方我们必须使用密码认证登录，因此我们就要修改验证为密码的方式。直接在命令行输入 mysql 登录数据库。使用以下命令修改<br>​        use mysql;<br>​        update mysql.user set plugin=’mysql_native_password’ where User=’root’;<br>​        flush privileges;</p>
<h1 id="宝塔面板安装相关"><a href="#宝塔面板安装相关" class="headerlink" title="宝塔面板安装相关"></a>宝塔面板安装相关</h1><h2 id="问题相关"><a href="#问题相关" class="headerlink" title="问题相关"></a>问题相关</h2><p>wget -O install.sh <a target="_blank" rel="noopener" href="http://download.bt.cn/install/install-ubuntu_6.0.sh">http://download.bt.cn/install/install-ubuntu_6.0.sh</a> &amp;&amp; bash install.sh</p>
<p>出现ERROR：Failed building wheel for cryptography。。。尝试以下：</p>
<p>python的pip安装库到指定目录<br>pip install cryptography==36.0.1 –target=/www/server/panel/pyenv/lib/python3.7/site-packages</p>
<p>curl <a target="_blank" rel="noopener" href="https://sh.rustup.rs/">https://sh.rustup.rs</a> -sSf | sh<br>source $HOME/.cargo/env<br>rustc –version</p>
<p>export CRYPTOGRAPHY_DONT_BUILD_RUST=1<br>pip3 install –upgrade homeassistant</p>
<p><a target="_blank" rel="noopener" href="https://cryptography.io/en/latest/installation/#rust">https://cryptography.io/en/latest/installation/#rust</a></p>
<h2 id="ERROR-Failed-building-wheel-for-cryptography"><a href="#ERROR-Failed-building-wheel-for-cryptography" class="headerlink" title="ERROR: Failed building wheel for cryptography"></a><a target="_blank" rel="noopener" href="https://community.home-assistant.io/t/error-failed-building-wheel-for-cryptography/352020">ERROR: Failed building wheel for cryptography</a></h2><p><a target="_blank" rel="noopener" href="https://community.home-assistant.io/u/trentjw">trentjw</a> (Trenton J Wilson)November 1, 2021, 2:30am#1</p>
<p>trying to update to latest version and this is the error I get<br>ERROR: Failed building wheel for cryptography<br>Failed to build cryptography<br>ERROR: Could not build wheels for cryptography, which is required to install pyproject.toml-based projects</p>
<p><a target="_blank" rel="noopener" href="https://community.home-assistant.io/u/koying">koying</a> (Chris B)November 1, 2021, 12:56pm#2</p>
<p>That issue, I guess:</p>
<p><img src="https://community.home-assistant.io/user_avatar/community.home-assistant.io/radu/40/152885_2.png" alt="img"> <a target="_blank" rel="noopener" href="https://community.home-assistant.io/t/cannot-update-to-2021-10-0/344695">Cannot update to 2021.10.0</a> <a target="_blank" rel="noopener" href="https://community.home-assistant.io/c/installation/17">Installation</a></p>
<blockquote>
<p>I’m running HASS from a python env and i updated each time a new update came out however today i cannot update 2021.10.0. i get this after running python3 -m pip install –upgrade homeassistant in the correct container: error: can’t find Rust compiler If you are using an outdated pip version, it is possible a prebuilt wheel is available for this package but pip is not able to install from it. Installing from the wheel would avoid the need for a Rust compiler. To update pip, run: …</p>
</blockquote>
<p><a target="_blank" rel="noopener" href="https://community.home-assistant.io/u/Piotr_Kowalski">Piotr_Kowalski</a> (Piotr Kowalski)November 6, 2021, 10:20am#3</p>
<p><a target="_blank" rel="noopener" href="https://community.home-assistant.io/t/cannot-update-to-2021-10-0/344695/1">Cannot update to 2021.10.0</a></p>
<blockquote>
<p>ython env and i updated each time a new update came out however today i cannot update 2021.10.0. i get this after running python3 -m pip install –upgrade homeassistant in the cor</p>
</blockquote>
<p>I have the same problem. The newest pip. I did everything from the instruction and still have:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br></pre></td><td class="code"><pre><span class="line">`Building wheels for collected packages: cryptography</span><br><span class="line">  Building wheel for cryptography (pyproject.toml) ... error</span><br><span class="line">  ERROR: Command errored out with exit status 1:</span><br><span class="line">   command: /srv/homeassistant/bin/python3.9 /srv/homeassistant/lib/python3.9/site-packages/pip/_vendor/pep517/in_process/_in_process.py build_wheel /tmp/tmpd9ajr6wm</span><br><span class="line">       cwd: /tmp/pip-install-04ynrnsi/cryptography_8e9ff41f16f041f0a756a1d3c41d0f24</span><br><span class="line">  Complete output (205 lines):</span><br><span class="line">  running bdist_wheel</span><br><span class="line">  running build</span><br><span class="line">  running build_py</span><br><span class="line">  creating build</span><br><span class="line">  creating build/lib.linux-armv7l-3.9</span><br><span class="line">  creating build/lib.linux-armv7l-3.9/cryptography</span><br><span class="line">  copying src/cryptography/__about__.py -&gt; build/lib.linux-armv7l-3.9/cryptography</span><br><span class="line">  copying src/cryptography/__init__.py -&gt; build/lib.linux-armv7l-3.9/cryptography</span><br><span class="line">  copying src/cryptography/fernet.py -&gt; build/lib.linux-armv7l-3.9/cryptography</span><br><span class="line">  copying src/cryptography/utils.py -&gt; build/lib.linux-armv7l-3.9/cryptography</span><br><span class="line">  copying src/cryptography/exceptions.py -&gt; build/lib.linux-armv7l-3.9/cryptography</span><br><span class="line">  creating build/lib.linux-armv7l-3.9/cryptography/x509</span><br><span class="line">  copying src/cryptography/x509/ocsp.py -&gt; build/lib.linux-armv7l-3.9/cryptography/x509</span><br><span class="line">  copying src/cryptography/x509/certificate_transparency.py -&gt; build/lib.linux-armv7l-3.9/cryptography/x509</span><br><span class="line">  copying src/cryptography/x509/oid.py -&gt; build/lib.linux-armv7l-3.9/cryptography/x509</span><br><span class="line">  copying src/cryptography/x509/general_name.py -&gt; build/lib.linux-armv7l-3.9/cryptography/x509</span><br><span class="line">  copying src/cryptography/x509/__init__.py -&gt; build/lib.linux-armv7l-3.9/cryptography/x509</span><br><span class="line">  copying src/cryptography/x509/extensions.py -&gt; build/lib.linux-armv7l-3.9/cryptography/x509</span><br><span class="line">  copying src/cryptography/x509/name.py -&gt; build/lib.linux-armv7l-3.9/cryptography/x509</span><br><span class="line">  copying src/cryptography/x509/base.py -&gt; build/lib.linux-armv7l-3.9/cryptography/x509</span><br><span class="line">  creating build/lib.linux-armv7l-3.9/cryptography/hazmat</span><br><span class="line">  copying src/cryptography/hazmat/_der.py -&gt; build/lib.linux-armv7l-3.9/cryptography/hazmat</span><br><span class="line">  copying src/cryptography/hazmat/_oid.py -&gt; build/lib.linux-armv7l-3.9/cryptography/hazmat</span><br><span class="line">  copying src/cryptography/hazmat/_types.py -&gt; build/lib.linux-armv7l-3.9/cryptography/hazmat</span><br><span class="line">  copying src/cryptography/hazmat/__init__.py -&gt; build/lib.linux-armv7l-3.9/cryptography/hazmat</span><br><span class="line">  creating build/lib.linux-armv7l-3.9/cryptography/hazmat/primitives</span><br><span class="line">  copying src/cryptography/hazmat/primitives/hashes.py -&gt; build/lib.linux-armv7l-3.9/cryptography/hazmat/primitives</span><br><span class="line">  copying src/cryptography/hazmat/primitives/_cipheralgorithm.py -&gt; build/lib.linux-armv7l-3.9/cryptography/hazmat/primitives</span><br><span class="line">  copying src/cryptography/hazmat/primitives/padding.py -&gt; build/lib.linux-armv7l-3.9/cryptography/hazmat/primitives</span><br><span class="line">  copying src/cryptography/hazmat/primitives/_serialization.py -&gt; build/lib.linux-armv7l-3.9/cryptography/hazmat/primitives</span><br><span class="line">  copying src/cryptography/hazmat/primitives/__init__.py -&gt; build/lib.linux-armv7l-3.9/cryptography/hazmat/primitives</span><br><span class="line">  copying src/cryptography/hazmat/primitives/hmac.py -&gt; build/lib.linux-armv7l-3.9/cryptography/hazmat/primitives</span><br><span class="line">  copying src/cryptography/hazmat/primitives/keywrap.py -&gt; build/lib.linux-armv7l-3.9/cryptography/hazmat/primitives</span><br><span class="line">  copying src/cryptography/hazmat/primitives/cmac.py -&gt; build/lib.linux-armv7l-3.9/cryptography/hazmat/primitives</span><br><span class="line">  copying src/cryptography/hazmat/primitives/_asymmetric.py -&gt; build/lib.linux-armv7l-3.9/cryptography/hazmat/primitives</span><br><span class="line">  copying src/cryptography/hazmat/primitives/constant_time.py -&gt; build/lib.linux-armv7l-3.9/cryptography/hazmat/primitives</span><br><span class="line">  copying src/cryptography/hazmat/primitives/poly1305.py -&gt; build/lib.linux-armv7l-3.9/cryptography/hazmat/primitives</span><br><span class="line">  creating build/lib.linux-armv7l-3.9/cryptography/hazmat/bindings</span><br><span class="line">  copying src/cryptography/hazmat/bindings/__init__.py -&gt; build/lib.linux-armv7l-3.9/cryptography/hazmat/bindings</span><br><span class="line">  creating build/lib.linux-armv7l-3.9/cryptography/hazmat/backends</span><br><span class="line">  copying src/cryptography/hazmat/backends/interfaces.py -&gt; build/lib.linux-armv7l-3.9/cryptography/hazmat/backends</span><br><span class="line">  copying src/cryptography/hazmat/backends/__init__.py -&gt; build/lib.linux-armv7l-3.9/cryptography/hazmat/backends</span><br><span class="line">  creating build/lib.linux-armv7l-3.9/cryptography/hazmat/primitives/kdf</span><br><span class="line">  copying src/cryptography/hazmat/primitives/kdf/kbkdf.py -&gt; build/lib.linux-armv7l-3.9/cryptography/hazmat/primitives/kdf</span><br><span class="line">  copying src/cryptography/hazmat/primitives/kdf/hkdf.py -&gt; build/lib.linux-armv7l-3.9/cryptography/hazmat/primitives/kdf</span><br><span class="line">  copying src/cryptography/hazmat/primitives/kdf/concatkdf.py -&gt; build/lib.linux-armv7l-3.9/cryptography/hazmat/primitives/kdf</span><br><span class="line">  copying src/cryptography/hazmat/primitives/kdf/__init__.py -&gt; build/lib.linux-armv7l-3.9/cryptography/hazmat/primitives/kdf</span><br><span class="line">  copying src/cryptography/hazmat/primitives/kdf/x963kdf.py -&gt; build/lib.linux-armv7l-3.9/cryptography/hazmat/primitives/kdf</span><br><span class="line">  copying src/cryptography/hazmat/primitives/kdf/pbkdf2.py -&gt; build/lib.linux-armv7l-3.9/cryptography/hazmat/primitives/kdf</span><br><span class="line">  copying src/cryptography/hazmat/primitives/kdf/scrypt.py -&gt; build/lib.linux-armv7l-3.9/cryptography/hazmat/primitives/kdf</span><br><span class="line">  creating build/lib.linux-armv7l-3.9/cryptography/hazmat/primitives/twofactor</span><br><span class="line">  copying src/cryptography/hazmat/primitives/twofactor/totp.py -&gt; build/lib.linux-armv7l-3.9/cryptography/hazmat/primitives/twofactor</span><br><span class="line">  copying src/cryptography/hazmat/primitives/twofactor/__init__.py -&gt; build/lib.linux-armv7l-3.9/cryptography/hazmat/primitives/twofactor</span><br><span class="line">  copying src/cryptography/hazmat/primitives/twofactor/hotp.py -&gt; build/lib.linux-armv7l-3.9/cryptography/hazmat/primitives/twofactor</span><br><span class="line">  copying src/cryptography/hazmat/primitives/twofactor/utils.py -&gt; build/lib.linux-armv7l-3.9/cryptography/hazmat/primitives/twofactor</span><br><span class="line">  creating build/lib.linux-armv7l-3.9/cryptography/hazmat/primitives/ciphers</span><br><span class="line">  copying src/cryptography/hazmat/primitives/ciphers/aead.py -&gt; build/lib.linux-armv7l-3.9/cryptography/hazmat/primitives/ciphers</span><br><span class="line">  copying src/cryptography/hazmat/primitives/ciphers/modes.py -&gt; build/lib.linux-armv7l-3.9/cryptography/hazmat/primitives/ciphers</span><br><span class="line">  copying src/cryptography/hazmat/primitives/ciphers/__init__.py -&gt; build/lib.linux-armv7l-3.9/cryptography/hazmat/primitives/ciphers</span><br><span class="line">  copying src/cryptography/hazmat/primitives/ciphers/algorithms.py -&gt; build/lib.linux-armv7l-3.9/cryptography/hazmat/primitives/ciphers</span><br><span class="line">  copying src/cryptography/hazmat/primitives/ciphers/base.py -&gt; build/lib.linux-armv7l-3.9/cryptography/hazmat/primitives/ciphers</span><br><span class="line">  creating build/lib.linux-armv7l-3.9/cryptography/hazmat/primitives/asymmetric</span><br><span class="line">  copying src/cryptography/hazmat/primitives/asymmetric/ed25519.py -&gt; build/lib.linux-armv7l-3.9/cryptography/hazmat/primitives/asymmetric</span><br><span class="line">  copying src/cryptography/hazmat/primitives/asymmetric/dh.py -&gt; build/lib.linux-armv7l-3.9/cryptography/hazmat/primitives/asymmetric</span><br><span class="line">  copying src/cryptography/hazmat/primitives/asymmetric/x25519.py -&gt; build/lib.linux-armv7l-3.9/cryptography/hazmat/primitives/asymmetric</span><br><span class="line">  copying src/cryptography/hazmat/primitives/asymmetric/padding.py -&gt; build/lib.linux-armv7l-3.9/cryptography/hazmat/primitives/asymmetric</span><br><span class="line">  copying src/cryptography/hazmat/primitives/asymmetric/rsa.py -&gt; build/lib.linux-armv7l-3.9/cryptography/hazmat/primitives/asymmetric</span><br><span class="line">  copying src/cryptography/hazmat/primitives/asymmetric/ed448.py -&gt; build/lib.linux-armv7l-3.9/cryptography/hazmat/primitives/asymmetric</span><br><span class="line">  copying src/cryptography/hazmat/primitives/asymmetric/__init__.py -&gt; build/lib.linux-armv7l-3.9/cryptography/hazmat/primitives/asymmetric</span><br><span class="line">  copying src/cryptography/hazmat/primitives/asymmetric/dsa.py -&gt; build/lib.linux-armv7l-3.9/cryptography/hazmat/primitives/asymmetric</span><br><span class="line">  copying src/cryptography/hazmat/primitives/asymmetric/utils.py -&gt; build/lib.linux-armv7l-3.9/cryptography/hazmat/primitives/asymmetric</span><br><span class="line">  copying src/cryptography/hazmat/primitives/asymmetric/ec.py -&gt; build/lib.linux-armv7l-3.9/cryptography/hazmat/primitives/asymmetric</span><br><span class="line">  copying src/cryptography/hazmat/primitives/asymmetric/x448.py -&gt; build/lib.linux-armv7l-3.9/cryptography/hazmat/primitives/asymmetric</span><br><span class="line">  creating build/lib.linux-armv7l-3.9/cryptography/hazmat/primitives/serialization</span><br><span class="line">  copying src/cryptography/hazmat/primitives/serialization/pkcs7.py -&gt; build/lib.linux-armv7l-3.9/cryptography/hazmat/primitives/serialization</span><br><span class="line">  copying src/cryptography/hazmat/primitives/serialization/__init__.py -&gt; build/lib.linux-armv7l-3.9/cryptography/hazmat/primitives/serialization</span><br><span class="line">  copying src/cryptography/hazmat/primitives/serialization/base.py -&gt; build/lib.linux-armv7l-3.9/cryptography/hazmat/primitives/serialization</span><br><span class="line">  copying src/cryptography/hazmat/primitives/serialization/ssh.py -&gt; build/lib.linux-armv7l-3.9/cryptography/hazmat/primitives/serialization</span><br><span class="line">  copying src/cryptography/hazmat/primitives/serialization/pkcs12.py -&gt; build/lib.linux-armv7l-3.9/cryptography/hazmat/primitives/serialization</span><br><span class="line">  creating build/lib.linux-armv7l-3.9/cryptography/hazmat/bindings/openssl</span><br><span class="line">  copying src/cryptography/hazmat/bindings/openssl/binding.py -&gt; build/lib.linux-armv7l-3.9/cryptography/hazmat/bindings/openssl</span><br><span class="line">  copying src/cryptography/hazmat/bindings/openssl/__init__.py -&gt; build/lib.linux-armv7l-3.9/cryptography/hazmat/bindings/openssl</span><br><span class="line">  copying src/cryptography/hazmat/bindings/openssl/_conditional.py -&gt; build/lib.linux-armv7l-3.9/cryptography/hazmat/bindings/openssl</span><br><span class="line">  creating build/lib.linux-armv7l-3.9/cryptography/hazmat/backends/openssl</span><br><span class="line">  copying src/cryptography/hazmat/backends/openssl/ocsp.py -&gt; build/lib.linux-armv7l-3.9/cryptography/hazmat/backends/openssl</span><br><span class="line">  copying src/cryptography/hazmat/backends/openssl/ed25519.py -&gt; build/lib.linux-armv7l-3.9/cryptography/hazmat/backends/openssl</span><br><span class="line">  copying src/cryptography/hazmat/backends/openssl/hashes.py -&gt; build/lib.linux-armv7l-3.9/cryptography/hazmat/backends/openssl</span><br><span class="line">  copying src/cryptography/hazmat/backends/openssl/dh.py -&gt; build/lib.linux-armv7l-3.9/cryptography/hazmat/backends/openssl</span><br><span class="line">  copying src/cryptography/hazmat/backends/openssl/decode_asn1.py -&gt; build/lib.linux-armv7l-3.9/cryptography/hazmat/backends/openssl</span><br><span class="line">  copying src/cryptography/hazmat/backends/openssl/x509.py -&gt; build/lib.linux-armv7l-3.9/cryptography/hazmat/backends/openssl</span><br><span class="line">  copying src/cryptography/hazmat/backends/openssl/aead.py -&gt; build/lib.linux-armv7l-3.9/cryptography/hazmat/backends/openssl</span><br><span class="line">  copying src/cryptography/hazmat/backends/openssl/x25519.py -&gt; build/lib.linux-armv7l-3.9/cryptography/hazmat/backends/openssl</span><br><span class="line">  copying src/cryptography/hazmat/backends/openssl/backend.py -&gt; build/lib.linux-armv7l-3.9/cryptography/hazmat/backends/openssl</span><br><span class="line">  copying src/cryptography/hazmat/backends/openssl/rsa.py -&gt; build/lib.linux-armv7l-3.9/cryptography/hazmat/backends/openssl</span><br><span class="line">  copying src/cryptography/hazmat/backends/openssl/ed448.py -&gt; build/lib.linux-armv7l-3.9/cryptography/hazmat/backends/openssl</span><br><span class="line">  copying src/cryptography/hazmat/backends/openssl/encode_asn1.py -&gt; build/lib.linux-armv7l-3.9/cryptography/hazmat/backends/openssl</span><br><span class="line">  copying src/cryptography/hazmat/backends/openssl/__init__.py -&gt; build/lib.linux-armv7l-3.9/cryptography/hazmat/backends/openssl</span><br><span class="line">  copying src/cryptography/hazmat/backends/openssl/hmac.py -&gt; build/lib.linux-armv7l-3.9/cryptography/hazmat/backends/openssl</span><br><span class="line">  copying src/cryptography/hazmat/backends/openssl/dsa.py -&gt; build/lib.linux-armv7l-3.9/cryptography/hazmat/backends/openssl</span><br><span class="line">  copying src/cryptography/hazmat/backends/openssl/utils.py -&gt; build/lib.linux-armv7l-3.9/cryptography/hazmat/backends/openssl</span><br><span class="line">  copying src/cryptography/hazmat/backends/openssl/cmac.py -&gt; build/lib.linux-armv7l-3.9/cryptography/hazmat/backends/openssl</span><br><span class="line">  copying src/cryptography/hazmat/backends/openssl/ec.py -&gt; build/lib.linux-armv7l-3.9/cryptography/hazmat/backends/openssl</span><br><span class="line">  copying src/cryptography/hazmat/backends/openssl/poly1305.py -&gt; build/lib.linux-armv7l-3.9/cryptography/hazmat/backends/openssl</span><br><span class="line">  copying src/cryptography/hazmat/backends/openssl/ciphers.py -&gt; build/lib.linux-armv7l-3.9/cryptography/hazmat/backends/openssl</span><br><span class="line">  copying src/cryptography/hazmat/backends/openssl/x448.py -&gt; build/lib.linux-armv7l-3.9/cryptography/hazmat/backends/openssl</span><br><span class="line">  running egg_info</span><br><span class="line">  writing src/cryptography.egg-info/PKG-INFO</span><br><span class="line">  writing dependency_links to src/cryptography.egg-info/dependency_links.txt</span><br><span class="line">  writing requirements to src/cryptography.egg-info/requires.txt</span><br><span class="line">  writing top-level names to src/cryptography.egg-info/top_level.txt</span><br><span class="line">  reading manifest file &#x27;src/cryptography.egg-info/SOURCES.txt&#x27;</span><br><span class="line">  reading manifest template &#x27;MANIFEST.in&#x27;</span><br><span class="line">  no previously-included directories found matching &#x27;docs/_build&#x27;</span><br><span class="line">  warning: no previously-included files found matching &#x27;vectors&#x27;</span><br><span class="line">  warning: no previously-included files matching &#x27;*&#x27; found under directory &#x27;vectors&#x27;</span><br><span class="line">  warning: no previously-included files matching &#x27;*&#x27; found under directory &#x27;.github&#x27;</span><br><span class="line">  warning: no previously-included files found matching &#x27;release.py&#x27;</span><br><span class="line">  warning: no previously-included files found matching &#x27;.coveragerc&#x27;</span><br><span class="line">  warning: no previously-included files found matching &#x27;codecov.yml&#x27;</span><br><span class="line">  warning: no previously-included files found matching &#x27;.readthedocs.yml&#x27;</span><br><span class="line">  warning: no previously-included files found matching &#x27;dev-requirements.txt&#x27;</span><br><span class="line">  warning: no previously-included files found matching &#x27;tox.ini&#x27;</span><br><span class="line">  warning: no previously-included files found matching &#x27;mypy.ini&#x27;</span><br><span class="line">  warning: no previously-included files matching &#x27;*&#x27; found under directory &#x27;.zuul.d&#x27;</span><br><span class="line">  warning: no previously-included files matching &#x27;*&#x27; found under directory &#x27;.zuul.playbooks&#x27;</span><br><span class="line">  adding license file &#x27;LICENSE&#x27;</span><br><span class="line">  adding license file &#x27;LICENSE.APACHE&#x27;</span><br><span class="line">  adding license file &#x27;LICENSE.BSD&#x27;</span><br><span class="line">  adding license file &#x27;LICENSE.PSF&#x27;</span><br><span class="line">  writing manifest file &#x27;src/cryptography.egg-info/SOURCES.txt&#x27;</span><br><span class="line">  copying src/cryptography/py.typed -&gt; build/lib.linux-armv7l-3.9/cryptography</span><br><span class="line">  running build_ext</span><br><span class="line">  generating cffi module &#x27;build/temp.linux-armv7l-3.9/_padding.c&#x27;</span><br><span class="line">  creating build/temp.linux-armv7l-3.9</span><br><span class="line">  generating cffi module &#x27;build/temp.linux-armv7l-3.9/_openssl.c&#x27;</span><br><span class="line">  running build_rust</span><br><span class="line">      Updating crates.io index</span><br><span class="line"></span><br><span class="line">      =============================DEBUG ASSISTANCE=============================</span><br><span class="line">      If you are seeing a compilation error please try the following steps to</span><br><span class="line">      successfully install cryptography:</span><br><span class="line">      1) Upgrade to the latest pip and try again. This will fix errors for most</span><br><span class="line">         users. See: https://pip.pypa.io/en/stable/installing/#upgrading-pip</span><br><span class="line">      2) Read https://cryptography.io/en/latest/installation.html for specific</span><br><span class="line">         instructions for your platform.</span><br><span class="line">      3) Check our frequently asked questions for more information:</span><br><span class="line">         https://cryptography.io/en/latest/faq.html</span><br><span class="line">      4) Ensure you have a recent Rust toolchain installed:</span><br><span class="line">         https://cryptography.io/en/latest/installation.html#rust</span><br><span class="line">      5) If you are experiencing issues with Rust for *this release only* you may</span><br><span class="line">         set the environment variable `CRYPTOGRAPHY_DONT_BUILD_RUST=1`.</span><br><span class="line">      =============================DEBUG ASSISTANCE=============================</span><br><span class="line"></span><br><span class="line">  Traceback (most recent call last):</span><br><span class="line">    File &quot;/srv/homeassistant/lib/python3.9/site-packages/pip/_vendor/pep517/in_process/_in_process.py&quot;, line 363, in &lt;module&gt;</span><br><span class="line">      main()</span><br><span class="line">    File &quot;/srv/homeassistant/lib/python3.9/site-packages/pip/_vendor/pep517/in_process/_in_process.py&quot;, line 345, in main</span><br><span class="line">      json_out[&#x27;return_val&#x27;] = hook(**hook_input[&#x27;kwargs&#x27;])</span><br><span class="line">    File &quot;/srv/homeassistant/lib/python3.9/site-packages/pip/_vendor/pep517/in_process/_in_process.py&quot;, line 261, in build_wheel</span><br><span class="line">      return _build_backend().build_wheel(wheel_directory, config_settings,</span><br><span class="line">    File &quot;/tmp/pip-build-env-5t3c7yw3/overlay/lib/python3.9/site-packages/setuptools/build_meta.py&quot;, line 230, in build_wheel</span><br><span class="line">      return self._build_with_temp_dir([&#x27;bdist_wheel&#x27;], &#x27;.whl&#x27;,</span><br><span class="line">    File &quot;/tmp/pip-build-env-5t3c7yw3/overlay/lib/python3.9/site-packages/setuptools/build_meta.py&quot;, line 215, in _build_with_temp_dir</span><br><span class="line">      self.run_setup()</span><br><span class="line">    File &quot;/tmp/pip-build-env-5t3c7yw3/overlay/lib/python3.9/site-packages/setuptools/build_meta.py&quot;, line 158, in run_setup</span><br><span class="line">      exec(compile(code, __file__, &#x27;exec&#x27;), locals())</span><br><span class="line">    File &quot;setup.py&quot;, line 71, in &lt;module&gt;</span><br><span class="line">      setup(</span><br><span class="line">    File &quot;/tmp/pip-build-env-5t3c7yw3/overlay/lib/python3.9/site-packages/setuptools/__init__.py&quot;, line 159, in setup</span><br><span class="line">      return distutils.core.setup(**attrs)</span><br><span class="line">    File &quot;/usr/local/lib/python3.9/distutils/core.py&quot;, line 148, in setup</span><br><span class="line">      dist.run_commands()</span><br><span class="line">    File &quot;/usr/local/lib/python3.9/distutils/dist.py&quot;, line 966, in run_commands</span><br><span class="line">      self.run_command(cmd)</span><br><span class="line">    File &quot;/usr/local/lib/python3.9/distutils/dist.py&quot;, line 985, in run_command</span><br><span class="line">      cmd_obj.run()</span><br><span class="line">    File &quot;/tmp/pip-build-env-5t3c7yw3/overlay/lib/python3.9/site-packages/wheel/bdist_wheel.py&quot;, line 299, in run</span><br><span class="line">      self.run_command(&#x27;build&#x27;)</span><br><span class="line">    File &quot;/usr/local/lib/python3.9/distutils/cmd.py&quot;, line 313, in run_command</span><br><span class="line">      self.distribution.run_command(command)</span><br><span class="line">    File &quot;/usr/local/lib/python3.9/distutils/dist.py&quot;, line 985, in run_command</span><br><span class="line">      cmd_obj.run()</span><br><span class="line">    File &quot;/usr/local/lib/python3.9/distutils/command/build.py&quot;, line 135, in run</span><br><span class="line">      self.run_command(cmd_name)</span><br><span class="line">    File &quot;/usr/local/lib/python3.9/distutils/cmd.py&quot;, line 313, in run_command</span><br><span class="line">      self.distribution.run_command(command)</span><br><span class="line">    File &quot;/usr/local/lib/python3.9/distutils/dist.py&quot;, line 985, in run_command</span><br><span class="line">      cmd_obj.run()</span><br><span class="line">    File &quot;/tmp/pip-build-env-5t3c7yw3/overlay/lib/python3.9/site-packages/cffi/setuptools_ext.py&quot;, line 144, in run</span><br><span class="line">      base_class.run(self)</span><br><span class="line">    File &quot;/tmp/pip-build-env-5t3c7yw3/overlay/lib/python3.9/site-packages/cffi/setuptools_ext.py&quot;, line 144, in run</span><br><span class="line">      base_class.run(self)</span><br><span class="line">    File &quot;/tmp/pip-build-env-5t3c7yw3/overlay/lib/python3.9/site-packages/setuptools_rust/setuptools_ext.py&quot;, line 103, in run</span><br><span class="line">      build_rust.run()</span><br><span class="line">    File &quot;/tmp/pip-build-env-5t3c7yw3/overlay/lib/python3.9/site-packages/setuptools_rust/command.py&quot;, line 52, in run</span><br><span class="line">      self.run_for_extension(ext)</span><br><span class="line">    File &quot;/tmp/pip-build-env-5t3c7yw3/overlay/lib/python3.9/site-packages/setuptools_rust/build.py&quot;, line 92, in run_for_extension</span><br><span class="line">      dylib_paths = self.build_extension(ext)</span><br><span class="line">    File &quot;/tmp/pip-build-env-5t3c7yw3/overlay/lib/python3.9/site-packages/setuptools_rust/build.py&quot;, line 131, in build_extension</span><br><span class="line">      metadata = json.loads(check_output(metadata_command))</span><br><span class="line">    File &quot;/usr/local/lib/python3.9/subprocess.py&quot;, line 420, in check_output</span><br><span class="line">      return run(*popenargs, stdout=PIPE, timeout=timeout, check=True,</span><br><span class="line">    File &quot;/usr/local/lib/python3.9/subprocess.py&quot;, line 524, in run</span><br><span class="line">      raise CalledProcessError(retcode, process.args,</span><br><span class="line">  subprocess.CalledProcessError: Command &#x27;[&#x27;cargo&#x27;, &#x27;metadata&#x27;, &#x27;--manifest-path&#x27;, &#x27;src/rust/Cargo.toml&#x27;, &#x27;--format-version&#x27;, &#x27;1&#x27;]&#x27; died with &lt;Signals.SIGSEGV: 11&gt;.</span><br><span class="line">  ----------------------------------------</span><br><span class="line">  ERROR: Failed building wheel for cryptography`</span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://community.home-assistant.io/u/ceh">ceh</a>November 6, 2021, 1:04pm#4</p>
<p>I believe you need to install cargo.</p>
<p>sudo apt install cargo</p>
<p><a target="_blank" rel="noopener" href="https://community.home-assistant.io/u/trentjw">trentjw</a> (Trenton J Wilson)November 6, 2021, 10:34pm#5</p>
<p>this is what I did just before the pip3 install command</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">export CRYPTOGRAPHY_DONT_BUILD_RUST=1</span><br><span class="line"></span><br><span class="line">pip3 install --upgrade homeassistant</span><br></pre></td></tr></table></figure>

<p>1 Like</p>
<p><a target="_blank" rel="noopener" href="https://community.home-assistant.io/u/Piotr_Kowalski">Piotr_Kowalski</a> (Piotr Kowalski)November 7, 2021, 9:38am#6</p>
<p>It works, thank you so much!</p>
<p><a target="_blank" rel="noopener" href="https://community.home-assistant.io/u/robg">robg</a> (Robert Gallesio)December 6, 2021, 8:23am#7</p>
<p>Cargo didn’t fix the problem but<br>export CRYPTOGRAPHY_DONT_BUILD_RUST=1</p>
<p>did the trick!!!</p>
<p>1 Like</p>
<p><a target="_blank" rel="noopener" href="https://community.home-assistant.io/u/maxxer">maxxer</a> (Maxxer)December 14, 2021, 11:39pm#8</p>
<p>I’m trying to build Python 3.8.12 but I’m stuck with the cryptography build error, no way to get rid of it. I tried <code>export</code>, setting the value in <code>.env</code>, passing the var to the pip install command… No way! I don’t know where to look at, any hint is welcome. Thanks</p>
<p><a target="_blank" rel="noopener" href="https://community.home-assistant.io/u/Rudhan">Rudhan</a> (Tomas Rudh)December 17, 2021, 9:04pm#9</p>
<p>I also get this error, when trying to upgrade to 2021.12.3. I have tried with</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export CRYPTOGRAPHY_DONT_BUILD_RUST=1</span><br></pre></td></tr></table></figure>

<p>but no luck. Also installing cargo does not help. Any ideas?</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br></pre></td><td class="code"><pre><span class="line">  ERROR: Command errored out with exit status 1:</span><br><span class="line">   command: /srv/homeassistant/bin/python3.8 /srv/homeassistant/lib/python3.8/site-packages/pip/_vendor/pep517/in_process/_in_process.py build_wheel /tmp/tmpzoxrpswf</span><br><span class="line">       cwd: /tmp/pip-install-d22wa9ai/cryptography_fd6fd4109a8a463c855d00034731061a</span><br><span class="line">  Complete output (208 lines):</span><br><span class="line">  running bdist_wheel</span><br><span class="line">  running build</span><br><span class="line">  running build_py</span><br><span class="line">  creating build</span><br><span class="line">  creating build/lib.linux-armv7l-3.8</span><br><span class="line">  creating build/lib.linux-armv7l-3.8/cryptography</span><br><span class="line">  copying src/cryptography/exceptions.py -&gt; build/lib.linux-armv7l-3.8/cryptography</span><br><span class="line">  copying src/cryptography/__init__.py -&gt; build/lib.linux-armv7l-3.8/cryptography</span><br><span class="line">  copying src/cryptography/fernet.py -&gt; build/lib.linux-armv7l-3.8/cryptography</span><br><span class="line">  copying src/cryptography/__about__.py -&gt; build/lib.linux-armv7l-3.8/cryptography</span><br><span class="line">  copying src/cryptography/utils.py -&gt; build/lib.linux-armv7l-3.8/cryptography</span><br><span class="line">  creating build/lib.linux-armv7l-3.8/cryptography/x509</span><br><span class="line">  copying src/cryptography/x509/certificate_transparency.py -&gt; build/lib.linux-armv7l-3.8/cryptography/x509</span><br><span class="line">  copying src/cryptography/x509/base.py -&gt; build/lib.linux-armv7l-3.8/cryptography/x509</span><br><span class="line">  copying src/cryptography/x509/general_name.py -&gt; build/lib.linux-armv7l-3.8/cryptography/x509</span><br><span class="line">  copying src/cryptography/x509/oid.py -&gt; build/lib.linux-armv7l-3.8/cryptography/x509</span><br><span class="line">  copying src/cryptography/x509/__init__.py -&gt; build/lib.linux-armv7l-3.8/cryptography/x509</span><br><span class="line">  copying src/cryptography/x509/name.py -&gt; build/lib.linux-armv7l-3.8/cryptography/x509</span><br><span class="line">  copying src/cryptography/x509/ocsp.py -&gt; build/lib.linux-armv7l-3.8/cryptography/x509</span><br><span class="line">  copying src/cryptography/x509/extensions.py -&gt; build/lib.linux-armv7l-3.8/cryptography/x509</span><br><span class="line">  creating build/lib.linux-armv7l-3.8/cryptography/hazmat</span><br><span class="line">  copying src/cryptography/hazmat/_oid.py -&gt; build/lib.linux-armv7l-3.8/cryptography/hazmat</span><br><span class="line">  copying src/cryptography/hazmat/__init__.py -&gt; build/lib.linux-armv7l-3.8/cryptography/hazmat</span><br><span class="line">  creating build/lib.linux-armv7l-3.8/cryptography/hazmat/backends</span><br><span class="line">  copying src/cryptography/hazmat/backends/__init__.py -&gt; build/lib.linux-armv7l-3.8/cryptography/hazmat/backends</span><br><span class="line">  copying src/cryptography/hazmat/backends/interfaces.py -&gt; build/lib.linux-armv7l-3.8/cryptography/hazmat/backends</span><br><span class="line">  creating build/lib.linux-armv7l-3.8/cryptography/hazmat/primitives</span><br><span class="line">  copying src/cryptography/hazmat/primitives/_cipheralgorithm.py -&gt; build/lib.linux-armv7l-3.8/cryptography/hazmat/primitives</span><br><span class="line">  copying src/cryptography/hazmat/primitives/poly1305.py -&gt; build/lib.linux-armv7l-3.8/cryptography/hazmat/primitives</span><br><span class="line">  copying src/cryptography/hazmat/primitives/padding.py -&gt; build/lib.linux-armv7l-3.8/cryptography/hazmat/primitives</span><br><span class="line">  copying src/cryptography/hazmat/primitives/cmac.py -&gt; build/lib.linux-armv7l-3.8/cryptography/hazmat/primitives</span><br><span class="line">  copying src/cryptography/hazmat/primitives/__init__.py -&gt; build/lib.linux-armv7l-3.8/cryptography/hazmat/primitives</span><br><span class="line">  copying src/cryptography/hazmat/primitives/hashes.py -&gt; build/lib.linux-armv7l-3.8/cryptography/hazmat/primitives</span><br><span class="line">  copying src/cryptography/hazmat/primitives/hmac.py -&gt; build/lib.linux-armv7l-3.8/cryptography/hazmat/primitives</span><br><span class="line">  copying src/cryptography/hazmat/primitives/keywrap.py -&gt; build/lib.linux-armv7l-3.8/cryptography/hazmat/primitives</span><br><span class="line">  copying src/cryptography/hazmat/primitives/constant_time.py -&gt; build/lib.linux-armv7l-3.8/cryptography/hazmat/primitives</span><br><span class="line">  copying src/cryptography/hazmat/primitives/_serialization.py -&gt; build/lib.linux-armv7l-3.8/cryptography/hazmat/primitives</span><br><span class="line">  copying src/cryptography/hazmat/primitives/_asymmetric.py -&gt; build/lib.linux-armv7l-3.8/cryptography/hazmat/primitives</span><br><span class="line">  creating build/lib.linux-armv7l-3.8/cryptography/hazmat/bindings</span><br><span class="line">  copying src/cryptography/hazmat/bindings/__init__.py -&gt; build/lib.linux-armv7l-3.8/cryptography/hazmat/bindings</span><br><span class="line">  creating build/lib.linux-armv7l-3.8/cryptography/hazmat/backends/openssl</span><br><span class="line">  copying src/cryptography/hazmat/backends/openssl/aead.py -&gt; build/lib.linux-armv7l-3.8/cryptography/hazmat/backends/openssl</span><br><span class="line">  copying src/cryptography/hazmat/backends/openssl/x25519.py -&gt; build/lib.linux-armv7l-3.8/cryptography/hazmat/backends/openssl</span><br><span class="line">  copying src/cryptography/hazmat/backends/openssl/rsa.py -&gt; build/lib.linux-armv7l-3.8/cryptography/hazmat/backends/openssl</span><br><span class="line">  copying src/cryptography/hazmat/backends/openssl/decode_asn1.py -&gt; build/lib.linux-armv7l-3.8/cryptography/hazmat/backends/openssl</span><br><span class="line">  copying src/cryptography/hazmat/backends/openssl/ed448.py -&gt; build/lib.linux-armv7l-3.8/cryptography/hazmat/backends/openssl</span><br><span class="line">  copying src/cryptography/hazmat/backends/openssl/poly1305.py -&gt; build/lib.linux-armv7l-3.8/cryptography/hazmat/backends/openssl</span><br><span class="line">  copying src/cryptography/hazmat/backends/openssl/x448.py -&gt; build/lib.linux-armv7l-3.8/cryptography/hazmat/backends/openssl</span><br><span class="line">  copying src/cryptography/hazmat/backends/openssl/cmac.py -&gt; build/lib.linux-armv7l-3.8/cryptography/hazmat/backends/openssl</span><br><span class="line">  copying src/cryptography/hazmat/backends/openssl/__init__.py -&gt; build/lib.linux-armv7l-3.8/cryptography/hazmat/backends/openssl</span><br><span class="line">  copying src/cryptography/hazmat/backends/openssl/ed25519.py -&gt; build/lib.linux-armv7l-3.8/cryptography/hazmat/backends/openssl</span><br><span class="line">  copying src/cryptography/hazmat/backends/openssl/x509.py -&gt; build/lib.linux-armv7l-3.8/cryptography/hazmat/backends/openssl</span><br><span class="line">  copying src/cryptography/hazmat/backends/openssl/dsa.py -&gt; build/lib.linux-armv7l-3.8/cryptography/hazmat/backends/openssl</span><br><span class="line">  copying src/cryptography/hazmat/backends/openssl/hashes.py -&gt; build/lib.linux-armv7l-3.8/cryptography/hazmat/backends/openssl</span><br><span class="line">  copying src/cryptography/hazmat/backends/openssl/hmac.py -&gt; build/lib.linux-armv7l-3.8/cryptography/hazmat/backends/openssl</span><br><span class="line">  copying src/cryptography/hazmat/backends/openssl/ec.py -&gt; build/lib.linux-armv7l-3.8/cryptography/hazmat/backends/openssl</span><br><span class="line">  copying src/cryptography/hazmat/backends/openssl/dh.py -&gt; build/lib.linux-armv7l-3.8/cryptography/hazmat/backends/openssl</span><br><span class="line">  copying src/cryptography/hazmat/backends/openssl/ciphers.py -&gt; build/lib.linux-armv7l-3.8/cryptography/hazmat/backends/openssl</span><br><span class="line">  copying src/cryptography/hazmat/backends/openssl/utils.py -&gt; build/lib.linux-armv7l-3.8/cryptography/hazmat/backends/openssl</span><br><span class="line">  copying src/cryptography/hazmat/backends/openssl/backend.py -&gt; build/lib.linux-armv7l-3.8/cryptography/hazmat/backends/openssl</span><br><span class="line">  copying src/cryptography/hazmat/backends/openssl/encode_asn1.py -&gt; build/lib.linux-armv7l-3.8/cryptography/hazmat/backends/openssl</span><br><span class="line">  creating build/lib.linux-armv7l-3.8/cryptography/hazmat/primitives/serialization</span><br><span class="line">  copying src/cryptography/hazmat/primitives/serialization/pkcs12.py -&gt; build/lib.linux-armv7l-3.8/cryptography/hazmat/primitives/serialization</span><br><span class="line">  copying src/cryptography/hazmat/primitives/serialization/base.py -&gt; build/lib.linux-armv7l-3.8/cryptography/hazmat/primitives/serialization</span><br><span class="line">  copying src/cryptography/hazmat/primitives/serialization/pkcs7.py -&gt; build/lib.linux-armv7l-3.8/cryptography/hazmat/primitives/serialization</span><br><span class="line">  copying src/cryptography/hazmat/primitives/serialization/ssh.py -&gt; build/lib.linux-armv7l-3.8/cryptography/hazmat/primitives/serialization</span><br><span class="line">  copying src/cryptography/hazmat/primitives/serialization/__init__.py -&gt; build/lib.linux-armv7l-3.8/cryptography/hazmat/primitives/serialization</span><br><span class="line">  creating build/lib.linux-armv7l-3.8/cryptography/hazmat/primitives/asymmetric</span><br><span class="line">  copying src/cryptography/hazmat/primitives/asymmetric/x25519.py -&gt; build/lib.linux-armv7l-3.8/cryptography/hazmat/primitives/asymmetric</span><br><span class="line">  copying src/cryptography/hazmat/primitives/asymmetric/rsa.py -&gt; build/lib.linux-armv7l-3.8/cryptography/hazmat/primitives/asymmetric</span><br><span class="line">  copying src/cryptography/hazmat/primitives/asymmetric/ed448.py -&gt; build/lib.linux-armv7l-3.8/cryptography/hazmat/primitives/asymmetric</span><br><span class="line">  copying src/cryptography/hazmat/primitives/asymmetric/x448.py -&gt; build/lib.linux-armv7l-3.8/cryptography/hazmat/primitives/asymmetric</span><br><span class="line">  copying src/cryptography/hazmat/primitives/asymmetric/padding.py -&gt; build/lib.linux-armv7l-3.8/cryptography/hazmat/primitives/asymmetric</span><br><span class="line">  copying src/cryptography/hazmat/primitives/asymmetric/__init__.py -&gt; build/lib.linux-armv7l-3.8/cryptography/hazmat/primitives/asymmetric</span><br><span class="line">  copying src/cryptography/hazmat/primitives/asymmetric/ed25519.py -&gt; build/lib.linux-armv7l-3.8/cryptography/hazmat/primitives/asymmetric</span><br><span class="line">  copying src/cryptography/hazmat/primitives/asymmetric/dsa.py -&gt; build/lib.linux-armv7l-3.8/cryptography/hazmat/primitives/asymmetric</span><br><span class="line">  copying src/cryptography/hazmat/primitives/asymmetric/types.py -&gt; build/lib.linux-armv7l-3.8/cryptography/hazmat/primitives/asymmetric</span><br><span class="line">  copying src/cryptography/hazmat/primitives/asymmetric/ec.py -&gt; build/lib.linux-armv7l-3.8/cryptography/hazmat/primitives/asymmetric</span><br><span class="line">  copying src/cryptography/hazmat/primitives/asymmetric/dh.py -&gt; build/lib.linux-armv7l-3.8/cryptography/hazmat/primitives/asymmetric</span><br><span class="line">  copying src/cryptography/hazmat/primitives/asymmetric/utils.py -&gt; build/lib.linux-armv7l-3.8/cryptography/hazmat/primitives/asymmetric</span><br><span class="line">  creating build/lib.linux-armv7l-3.8/cryptography/hazmat/primitives/twofactor</span><br><span class="line">  copying src/cryptography/hazmat/primitives/twofactor/totp.py -&gt; build/lib.linux-armv7l-3.8/cryptography/hazmat/primitives/twofactor</span><br><span class="line">  copying src/cryptography/hazmat/primitives/twofactor/__init__.py -&gt; build/lib.linux-armv7l-3.8/cryptography/hazmat/primitives/twofactor</span><br><span class="line">  copying src/cryptography/hazmat/primitives/twofactor/hotp.py -&gt; build/lib.linux-armv7l-3.8/cryptography/hazmat/primitives/twofactor</span><br><span class="line">  creating build/lib.linux-armv7l-3.8/cryptography/hazmat/primitives/ciphers</span><br><span class="line">  copying src/cryptography/hazmat/primitives/ciphers/aead.py -&gt; build/lib.linux-armv7l-3.8/cryptography/hazmat/primitives/ciphers</span><br><span class="line">  copying src/cryptography/hazmat/primitives/ciphers/base.py -&gt; build/lib.linux-armv7l-3.8/cryptography/hazmat/primitives/ciphers</span><br><span class="line">  copying src/cryptography/hazmat/primitives/ciphers/modes.py -&gt; build/lib.linux-armv7l-3.8/cryptography/hazmat/primitives/ciphers</span><br><span class="line">  copying src/cryptography/hazmat/primitives/ciphers/__init__.py -&gt; build/lib.linux-armv7l-3.8/cryptography/hazmat/primitives/ciphers</span><br><span class="line">  copying src/cryptography/hazmat/primitives/ciphers/algorithms.py -&gt; build/lib.linux-armv7l-3.8/cryptography/hazmat/primitives/ciphers</span><br><span class="line">  creating build/lib.linux-armv7l-3.8/cryptography/hazmat/primitives/kdf</span><br><span class="line">  copying src/cryptography/hazmat/primitives/kdf/pbkdf2.py -&gt; build/lib.linux-armv7l-3.8/cryptography/hazmat/primitives/kdf</span><br><span class="line">  copying src/cryptography/hazmat/primitives/kdf/scrypt.py -&gt; build/lib.linux-armv7l-3.8/cryptography/hazmat/primitives/kdf</span><br><span class="line">  copying src/cryptography/hazmat/primitives/kdf/__init__.py -&gt; build/lib.linux-armv7l-3.8/cryptography/hazmat/primitives/kdf</span><br><span class="line">  copying src/cryptography/hazmat/primitives/kdf/x963kdf.py -&gt; build/lib.linux-armv7l-3.8/cryptography/hazmat/primitives/kdf</span><br><span class="line">  copying src/cryptography/hazmat/primitives/kdf/kbkdf.py -&gt; build/lib.linux-armv7l-3.8/cryptography/hazmat/primitives/kdf</span><br><span class="line">  copying src/cryptography/hazmat/primitives/kdf/concatkdf.py -&gt; build/lib.linux-armv7l-3.8/cryptography/hazmat/primitives/kdf</span><br><span class="line">  copying src/cryptography/hazmat/primitives/kdf/hkdf.py -&gt; build/lib.linux-armv7l-3.8/cryptography/hazmat/primitives/kdf</span><br><span class="line">  creating build/lib.linux-armv7l-3.8/cryptography/hazmat/bindings/openssl</span><br><span class="line">  copying src/cryptography/hazmat/bindings/openssl/binding.py -&gt; build/lib.linux-armv7l-3.8/cryptography/hazmat/bindings/openssl</span><br><span class="line">  copying src/cryptography/hazmat/bindings/openssl/__init__.py -&gt; build/lib.linux-armv7l-3.8/cryptography/hazmat/bindings/openssl</span><br><span class="line">  copying src/cryptography/hazmat/bindings/openssl/_conditional.py -&gt; build/lib.linux-armv7l-3.8/cryptography/hazmat/bindings/openssl</span><br><span class="line">  running egg_info</span><br><span class="line">  writing src/cryptography.egg-info/PKG-INFO</span><br><span class="line">  writing dependency_links to src/cryptography.egg-info/dependency_links.txt</span><br><span class="line">  writing requirements to src/cryptography.egg-info/requires.txt</span><br><span class="line">  writing top-level names to src/cryptography.egg-info/top_level.txt</span><br><span class="line">  reading manifest file &#x27;src/cryptography.egg-info/SOURCES.txt&#x27;</span><br><span class="line">  reading manifest template &#x27;MANIFEST.in&#x27;</span><br><span class="line">  no previously-included directories found matching &#x27;docs/_build&#x27;</span><br><span class="line">  warning: no previously-included files found matching &#x27;vectors&#x27;</span><br><span class="line">  warning: no previously-included files matching &#x27;*&#x27; found under directory &#x27;vectors&#x27;</span><br><span class="line">  warning: no previously-included files matching &#x27;*&#x27; found under directory &#x27;.github&#x27;</span><br><span class="line">  warning: no previously-included files found matching &#x27;release.py&#x27;</span><br><span class="line">  warning: no previously-included files found matching &#x27;.coveragerc&#x27;</span><br><span class="line">  warning: no previously-included files found matching &#x27;codecov.yml&#x27;</span><br><span class="line">  warning: no previously-included files found matching &#x27;.readthedocs.yml&#x27;</span><br><span class="line">  warning: no previously-included files found matching &#x27;dev-requirements.txt&#x27;</span><br><span class="line">  warning: no previously-included files found matching &#x27;tox.ini&#x27;</span><br><span class="line">  warning: no previously-included files found matching &#x27;mypy.ini&#x27;</span><br><span class="line">  warning: no previously-included files matching &#x27;*&#x27; found under directory &#x27;.zuul.d&#x27;</span><br><span class="line">  warning: no previously-included files matching &#x27;*&#x27; found under directory &#x27;.zuul.playbooks&#x27;</span><br><span class="line">  adding license file &#x27;LICENSE&#x27;</span><br><span class="line">  adding license file &#x27;LICENSE.APACHE&#x27;</span><br><span class="line">  adding license file &#x27;LICENSE.BSD&#x27;</span><br><span class="line">  adding license file &#x27;LICENSE.PSF&#x27;</span><br><span class="line">  writing manifest file &#x27;src/cryptography.egg-info/SOURCES.txt&#x27;</span><br><span class="line">  copying src/cryptography/py.typed -&gt; build/lib.linux-armv7l-3.8/cryptography</span><br><span class="line">  creating build/lib.linux-armv7l-3.8/cryptography/hazmat/bindings/_rust</span><br><span class="line">  copying src/cryptography/hazmat/bindings/_rust/__init__.pyi -&gt; build/lib.linux-armv7l-3.8/cryptography/hazmat/bindings/_rust</span><br><span class="line">  copying src/cryptography/hazmat/bindings/_rust/asn1.pyi -&gt; build/lib.linux-armv7l-3.8/cryptography/hazmat/bindings/_rust</span><br><span class="line">  copying src/cryptography/hazmat/bindings/_rust/ocsp.pyi -&gt; build/lib.linux-armv7l-3.8/cryptography/hazmat/bindings/_rust</span><br><span class="line">  copying src/cryptography/hazmat/bindings/_rust/x509.pyi -&gt; build/lib.linux-armv7l-3.8/cryptography/hazmat/bindings/_rust</span><br><span class="line">  running build_ext</span><br><span class="line">  running build_rust</span><br><span class="line">      Updating crates.io index</span><br><span class="line"></span><br><span class="line">      =============================DEBUG ASSISTANCE=============================</span><br><span class="line">      If you are seeing a compilation error please try the following steps to</span><br><span class="line">      successfully install cryptography:</span><br><span class="line">      1) Upgrade to the latest pip and try again. This will fix errors for most</span><br><span class="line">         users. See: https://pip.pypa.io/en/stable/installing/#upgrading-pip</span><br><span class="line">      2) Read https://cryptography.io/en/latest/installation/ for specific</span><br><span class="line">         instructions for your platform.</span><br><span class="line">      3) Check our frequently asked questions for more information:</span><br><span class="line">         https://cryptography.io/en/latest/faq/</span><br><span class="line">      4) Ensure you have a recent Rust toolchain installed:</span><br><span class="line">         https://cryptography.io/en/latest/installation/#rust</span><br><span class="line"></span><br><span class="line">      Python: 3.8.5</span><br><span class="line">      platform: Linux-5.10.63-v7+-armv7l-with-glibc2.28</span><br><span class="line">      pip: n/a</span><br><span class="line">      setuptools: 59.6.0</span><br><span class="line">      setuptools_rust: 1.1.2</span><br><span class="line">      =============================DEBUG ASSISTANCE=========================</span><br><span class="line"></span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">    File &quot;/srv/homeassistant/lib/python3.8/site-packages/pip/_vendor/pep517/in_process/_in_process.py&quot;, line 363, in &lt;module&gt;</span><br><span class="line">      main()</span><br><span class="line">    File &quot;/srv/homeassistant/lib/python3.8/site-packages/pip/_vendor/pep517/in_process/_in_process.py&quot;, line 345, in main</span><br><span class="line">      json_out[&#x27;return_val&#x27;] = hook(**hook_input[&#x27;kwargs&#x27;])</span><br><span class="line">    File &quot;/srv/homeassistant/lib/python3.8/site-packages/pip/_vendor/pep517/in_process/_in_process.py&quot;, line 261, in build_wheel</span><br><span class="line">      return _build_backend().build_wheel(wheel_directory, config_settings,</span><br><span class="line">    File &quot;/tmp/pip-build-env-wtu1ut7k/overlay/lib/python3.8/site-packages/setuptools/build_meta.py&quot;, line 230, in build_wheel</span><br><span class="line">      return self._build_with_temp_dir([&#x27;bdist_wheel&#x27;], &#x27;.whl&#x27;,</span><br><span class="line">    File &quot;/tmp/pip-build-env-wtu1ut7k/overlay/lib/python3.8/site-packages/setuptools/build_meta.py&quot;, line 215, in _build_with_temp_dir</span><br><span class="line">      self.run_setup()</span><br><span class="line">    File &quot;/tmp/pip-build-env-wtu1ut7k/overlay/lib/python3.8/site-packages/setuptools/build_meta.py&quot;, line 158, in run_setup</span><br><span class="line">      exec(compile(code, __file__, &#x27;exec&#x27;), locals())</span><br><span class="line">    File &quot;setup.py&quot;, line 39, in &lt;module&gt;</span><br><span class="line">      setup(</span><br><span class="line">    File &quot;/tmp/pip-build-env-wtu1ut7k/overlay/lib/python3.8/site-packages/setuptools/__init__.py&quot;, line 153, in setup</span><br><span class="line">      return distutils.core.setup(**attrs)</span><br><span class="line">    File &quot;/usr/local/lib/python3.8/distutils/core.py&quot;, line 148, in setup</span><br><span class="line">      dist.run_commands()</span><br><span class="line">    File &quot;/usr/local/lib/python3.8/distutils/dist.py&quot;, line 966, in run_commands</span><br><span class="line">      self.run_command(cmd)</span><br><span class="line">    File &quot;/usr/local/lib/python3.8/distutils/dist.py&quot;, line 985, in run_command</span><br><span class="line">      cmd_obj.run()</span><br><span class="line">    File &quot;/tmp/pip-build-env-wtu1ut7k/overlay/lib/python3.8/site-packages/wheel/bdist_wheel.py&quot;, line 299, in run</span><br><span class="line">      self.run_command(&#x27;build&#x27;)</span><br><span class="line">    File &quot;/usr/local/lib/python3.8/distutils/cmd.py&quot;, line 313, in run_command</span><br><span class="line">      self.distribution.run_command(command)</span><br><span class="line">    File &quot;/usr/local/lib/python3.8/distutils/dist.py&quot;, line 985, in run_command</span><br><span class="line">      cmd_obj.run()</span><br><span class="line">    File &quot;/usr/local/lib/python3.8/distutils/command/build.py&quot;, line 135, in run</span><br><span class="line">      self.run_command(cmd_name)</span><br><span class="line">    File &quot;/usr/local/lib/python3.8/distutils/cmd.py&quot;, line 313, in run_command</span><br><span class="line">      self.distribution.run_command(command)</span><br><span class="line">    File &quot;/usr/local/lib/python3.8/distutils/dist.py&quot;, line 985, in run_command</span><br><span class="line">      cmd_obj.run()</span><br><span class="line">    File &quot;/tmp/pip-build-env-wtu1ut7k/overlay/lib/python3.8/site-packages/setuptools_rust/setuptools_ext.py&quot;, line 132, in run</span><br><span class="line">      build_rust.run()</span><br><span class="line">    File &quot;/tmp/pip-build-env-wtu1ut7k/overlay/lib/python3.8/site-packages/setuptools_rust/command.py&quot;, line 101, in run</span><br><span class="line">      self.run_for_extension(ext)</span><br><span class="line">    File &quot;/tmp/pip-build-env-wtu1ut7k/overlay/lib/python3.8/site-packages/setuptools_rust/build.py&quot;, line 108, in run_for_extension</span><br><span class="line">      dylib_paths = self.build_extension(ext, self.target)</span><br><span class="line">    File &quot;/tmp/pip-build-env-wtu1ut7k/overlay/lib/python3.8/site-packages/setuptools_rust/build.py&quot;, line 139, in build_extension</span><br><span class="line">      target_dir = _base_cargo_target_dir(ext)</span><br><span class="line">    File &quot;/tmp/pip-build-env-wtu1ut7k/overlay/lib/python3.8/site-packages/setuptools_rust/build.py&quot;, line 673, in _base_cargo_target_dir</span><br><span class="line">      target_directory = ext._metadata()[&quot;target_directory&quot;]</span><br><span class="line">    File &quot;/tmp/pip-build-env-wtu1ut7k/overlay/lib/python3.8/site-packages/setuptools_rust/extension.py&quot;, line 200, in _metadata</span><br><span class="line">      self._cargo_metadata = json.loads(subprocess.check_output(metadata_command))</span><br><span class="line">    File &quot;/usr/local/lib/python3.8/subprocess.py&quot;, line 411, in check_output</span><br><span class="line">      return run(*popenargs, stdout=PIPE, timeout=timeout, check=True,</span><br><span class="line">    File &quot;/usr/local/lib/python3.8/subprocess.py&quot;, line 512, in run</span><br><span class="line">      raise CalledProcessError(retcode, process.args,</span><br><span class="line">  subprocess.CalledProcessError: Command &#x27;[&#x27;cargo&#x27;, &#x27;metadata&#x27;, &#x27;--manifest-path&#x27;, &#x27;src/rust/Cargo.toml&#x27;, &#x27;--format-version&#x27;, &#x27;1&#x27;]&#x27; died with &lt;Signals.SIGSEGV: 11&gt;.</span><br><span class="line">  ----------------------------------------</span><br><span class="line">  ERROR: Failed building wheel for cryptography</span><br><span class="line">Failed to build cryptography</span><br><span class="line">ERROR: Could not build wheels for cryptography, which is required to install pyproject.toml-based projects</span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://community.home-assistant.io/u/koying">koying</a> (Chris B)December 18, 2021, 9:38am#10</p>
<p>The export trick doesn’t work anymore in 2021.12, due to “cryptography” being bumped to 3.5.<br>That did the trick for me, i.e. installing a newer rust/cargo from origin.</p>
<p><img src="https://community.home-assistant.io/user_avatar/community.home-assistant.io/garlandkr/40/158085_2.png" alt="img"> <a target="_blank" rel="noopener" href="https://community.home-assistant.io/t/cant-update-ha-to-the-latest-version/345605/5">Can’t update HA to the latest version</a> <a target="_blank" rel="noopener" href="https://community.home-assistant.io/c/installation/17">Installation</a></p>
<blockquote>
<p>I also experienced this issue when trying to upgrade hass core, however when trying to install cargo I got an error of E: Package ‘cargo’ has no installation candidate to solve this I did the following: sudo apt remove rustc curl <a target="_blank" rel="noopener" href="https://sh.rustup.rs/">https://sh.rustup.rs</a> -sSf | sh This installed rust and cargo on my Rpi4 running RaspberryPi 10 (Buster). Just leaving this here for anyone else that encounters the issue on Raspian. Make sure to run the curl command as the user who is running home-assistant.</p>
</blockquote>
<p>1 Like</p>
<p><a target="_blank" rel="noopener" href="https://community.home-assistant.io/u/Rudhan">Rudhan</a> (Tomas Rudh)December 18, 2021, 12:22pm#11</p>
<p>Excellent, that worked. To clarify, these are the commands I ran:<br>sudo apt remove rustc<br>sudo curl <a target="_blank" rel="noopener" href="https://sh.rustup.rs/">https://sh.rustup.rs</a> -sSf | sh</p>
<p>Thanks so much!</p>
<p>1 Like</p>
<p><a target="_blank" rel="noopener" href="https://community.home-assistant.io/u/seventh">seventh</a> (Dima)December 24, 2021, 6:12am#12</p>
<p>Same problem even after upgrade rust. My <a target="_blank" rel="noopener" href="https://pastebin.com/iFN2krNn">log</a>.<br>rustc 1.57.0</p>
<p><a target="_blank" rel="noopener" href="https://community.home-assistant.io/u/Martor">Martor</a> (Martin)December 29, 2021, 11:46pm#13</p>
<p>Hi,</p>
<p>for armv7 during the cargo and rustc installation</p>
<blockquote>
<p>curl <a target="_blank" rel="noopener" href="https://sh.rustup.rs/">https://sh.rustup.rs </a>-sSf | sh</p>
</blockquote>
<p>please first select option 2 and chage it to “armv7-unknown-linux-gnueabihf”, rest just enter defaults and then select option 1 and install. After that type:</p>
<blockquote>
<p>source $HOME/.cargo/env</p>
</blockquote>
<p>To double check if it is ok, just type</p>
<blockquote>
<p>rustc – version</p>
</blockquote>
<p>to see if it is OK.</p>
<p>Then run again installation of HA and the Cryptography should be properly built.</p>
<p>Good luck <img src="https://community.home-assistant.io/images/emoji/twitter/wink.png?v=10" alt=":wink:"></p>
<p>P.S. be sure to unistall previous version via:</p>
<blockquote>
<p>sudo apt remove rustc cargo</p>
</blockquote>
<p>If you need to unistall previous cargo and rustc, use:</p>
<blockquote>
<p>rustup self uninstall</p>
</blockquote>
<p>2 Likes</p>
<p><a target="_blank" rel="noopener" href="https://community.home-assistant.io/u/britiger">britiger</a> (Christopher)December 30, 2021, 3:27pm#14</p>
<p>Hi,</p>
<p>I found a workaround on one the debian bug reports. I seams to be a second bug with rust and git. If I set the following variables I was able to install the required cryptography 35.0.0 package:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> CRYPTOGRAPHY_DONT_BUILD_RUST=1</span><br><span class="line"><span class="built_in">export</span> CARGO_NET_GIT_FETCH_WITH_CLI=<span class="literal">true</span></span><br></pre></td></tr></table></figure>

<p>Christopher</p>
<p><a target="_blank" rel="noopener" href="https://community.home-assistant.io/u/Piotr_Kowalski">Piotr_Kowalski</a> (Piotr Kowalski)December 30, 2021, 5:54pm#15</p>
<p>Hi, should I update Rust in pip env or in my main account? I updated as a root user but in pip env HA says me: error: can’t find Rust compiler</p>
<p>EDIT<br>Helped me adding<br><code>export PATH=$PATH:~/.cargo/bin</code><br>after instalation of Rush from<br><code>curl [https://sh.rustup.rs](https://sh.rustup.rs/) -sSf | sh</code></p>
<p><a target="_blank" rel="noopener" href="https://community.home-assistant.io/u/mike3">mike3</a>January 3, 2022, 1:35am#16</p>
<p>This did it for me! Running<br><code>rustup self uninstall</code><br>first was important.</p>
<p>I’m on a raspberry pi. To make sure I was on an ARMv7 processor architecture I ran:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat /proc/cpuinfo</span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://community.home-assistant.io/">Home</a> <a target="_blank" rel="noopener" href="https://community.home-assistant.io/categories">Categories</a> <a target="_blank" rel="noopener" href="https://community.home-assistant.io/guidelines">FAQ/Guidelines</a> <a target="_blank" rel="noopener" href="https://community.home-assistant.io/tos">Terms of Service</a> <a target="_blank" rel="noopener" href="https://community.home-assistant.io/privacy">Privacy Policy</a></p>
<h2 id="linux在python的虚拟环境下运行程序-安装python虚拟运行环境，linux下轻松切换python2和python3…"><a href="#linux在python的虚拟环境下运行程序-安装python虚拟运行环境，linux下轻松切换python2和python3…" class="headerlink" title="linux在python的虚拟环境下运行程序_安装python虚拟运行环境，linux下轻松切换python2和python3…"></a>linux在python的虚拟环境下运行程序_安装python虚拟运行环境，linux下轻松切换python2和python3…</h2><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_39959615">weixin_39959615</a><img src="https://csdnimg.cn/release/blogv2/dist/pc/img/newCurrentTime2.png" alt="img">于 2020-11-20 18:10:42 发布<img src="https://csdnimg.cn/release/blogv2/dist/pc/img/articleReadEyes2.png" alt="img">78</p>
<p>文章标签： <a target="_blank" rel="noopener" href="https://so.csdn.net/so/search/s.do?q=linux%E5%9C%A8python%E7%9A%84%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83%E4%B8%8B%E8%BF%90%E8%A1%8C%E7%A8%8B%E5%BA%8F&t=blog&o=vip&s=&l=&f=&viparticle=">linux在python的虚拟环境下运行程序</a></p>
<p>一、查询系统采用的python版本</p>
<p>$ python –version</p>
<p>Python 3.7.3</p>
<p>系统采用的python版本为3.7.3</p>
<p>以下查询py3和py2的目录：</p>
<p>$ which python3.7</p>
<p>/usr/bin/python3.7</p>
<p>$ which python2.7</p>
<p>/usr/bin/python2.7</p>
<p>二、安装python虚拟运行环境</p>
<p>pip安装</p>
<p>$ sudo pip install virtualenvwrapper</p>
<p>上述工具装好后，需要执行以下环境变量设置。</p>
<p>1.创建目录用来存放<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83&spm=1001.2101.3001.7020">虚拟环境</a></p>
<p>mkdir $HOME/.virtualenvs</p>
<p>2.在~/.bashrc中添加行：</p>
<p>export WORKON_HOME=$HOME/.virtualenvs</p>
<p>source /usr/bin/virtualenvwrapper.sh</p>
<p>3.运行:</p>
<p>source ~/.bashrc</p>
<p>三、创建python虚拟环境</p>
<p>当你需要使用Python2开发项目时，建立一个Python2的虚拟环境：</p>
<p>$ mkvirtualenv -p /usr/bin/python2.7 env27</p>
<p>当你需要Python3开发时：</p>
<p>$ mkvirtualenv -p /usr/bin/python3.7 env37</p>
<p>然后可以随时切换不同的虚拟环境：</p>
<p>$ workon env27 # 进入Python2环境</p>
<p>$ workon env37 # 进入Python3环境</p>
<p>不仅可以自由切换py2和py3，同一个版本下还可以配置不同的依赖，pip不同的包，来适应不同项目的需求。</p>
<p>更爽的是，你可以在进入虚拟环境的同时切换到项目目录，只需要编辑 $VIRTUAL_ENV/bin/postactivate 这个文件即可：</p>
<p>$ vim $VIRTUAL_ENV/bin/postactivate #前提是已经进入对应的虚拟环境</p>
<p>在文件中添加切换目录的命令：</p>
<p>cd /path/to/your/project</p>
<p>四、退出虚拟环境 离开 deactivate</p>
<h1 id="kali-linux-开启SSH服务-容许root登陆"><a href="#kali-linux-开启SSH服务-容许root登陆" class="headerlink" title="kali linux 开启SSH服务 容许root登陆"></a>kali linux 开启SSH服务 容许root登陆</h1><ol>
<li>查看ssh服务状态</li>
</ol>
<p>/etc/init.d/ssh status</p>
<p>2.修改配置文件</p>
<p>vim /etc/ssh/sshd_config</p>
<p>#PermitRootLogin prohibit-password<br>PermitRootLogin yes<br>#PasswordAuthentication yes<br>PasswordAuthentication yes</p>
<ol start="3">
<li>启动ssh服务</li>
</ol>
<p>/etc/init.d/ssh start</p>
<p>查看服务状态</p>
<p>/etc/init.d/ssh status</p>
<p>开机启动</p>
<p>update-rc.d ssh enable<br>参考：1.Kali Linux 2.0开启SSH服务 使用SSH进行远程访问</p>
<h1 id="kali-rpm-安装方法-Kali-Linux安装过程记录"><a href="#kali-rpm-安装方法-Kali-Linux安装过程记录" class="headerlink" title="kali rpm 安装方法_Kali Linux安装过程记录"></a>kali rpm 安装方法_Kali Linux安装过程记录</h1><p>Kali Linux是一款基于Debian Linux开发的用于用户渗透测试和安全审计的操作系统。</p>
<p>一、在Linux KVM虚拟机的安装过程如下：</p>
<ol>
<li><p>安装好KVM虚拟机</p>
</li>
<li><p>在kali官网下载最新镜像</p>
</li>
</ol>
<p><a target="_blank" rel="noopener" href="https://www.kali.org/downloads/">https://www.kali.org/downloads/</a></p>
<p><img src="https://img-blog.csdnimg.cn/img_convert/5ac032b0121d87190339416a069e677b.png" alt="5ac032b0121d87190339416a069e677b.png"></p>
<p>\3. 新建新的KVM虚拟机，根据宿主机的配置选择合适的<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=%E5%86%85%E5%AD%98&spm=1001.2101.3001.7020">内存</a>和CPU设置，CD-ROM镜像选择下载的Kali Linux镜像，启动安装(根据向导步骤完成)</p>
<p>\4. 安装完成后，输入设定的用户名和密码(在向导过程中设定)， 进入系统界面</p>
<p><img src="https://img-blog.csdnimg.cn/img_convert/d2c0e50968d8e6353910988c6656aa89.png" alt="d2c0e50968d8e6353910988c6656aa89.png"></p>
<p>\5. 若需要对系统或网络设置，点击左侧工具栏中的，滚动页面，在页面中选择Settings, 在新的页面中，选中Network进行网络设置。</p>
<p><img src="https://img-blog.csdnimg.cn/img_convert/64f52233aeacb905524621c43795fa01.png" alt="64f52233aeacb905524621c43795fa01.png"></p>
<p><img src="https://img-blog.csdnimg.cn/img_convert/a280efbb9840a387ecf84c763b6bf4a2.png" alt="a280efbb9840a387ecf84c763b6bf4a2.png"></p>
<p>二、开启ssh远程登录</p>
<p>Kali Linux默认未启动ssh Server， 可在后台ssh服务。</p>
<p>\1. 进入Terminal, 开启并使能ssh服务</p>
<p><img src="https://img-blog.csdnimg.cn/img_convert/0c409481273df270efe7e0d8ce6c72a1.png" alt="0c409481273df270efe7e0d8ce6c72a1.png"></p>
<p>\2. 新增用户，作为ssh登录账户</p>
<p>Settings中选择Details, 选择Users, Add User</p>
<p><img src="https://img-blog.csdnimg.cn/img_convert/d00ee588d47bdbb67bb5a5d1a0413dfa.png" alt="d00ee588d47bdbb67bb5a5d1a0413dfa.png"></p>
<p>三、组件更新</p>
<p>新装系统未设置任何更新源，我们需要手动指定Kali系统的更新源</p>
<p>在/etc/apt/sources.list文件中增加新的更新源， 如：</p>
<p>deb <a target="_blank" rel="noopener" href="http://mirrors.aliyun.com/kali">http://mirrors.aliyun.com/kali</a> kali-rolling main non-free contrib</p>
<p><img src="https://img-blog.csdnimg.cn/img_convert/1e1423db1d6d320a3efbfe3cdb2c0704.png" alt="1e1423db1d6d320a3efbfe3cdb2c0704.png"></p>
<p>主要的更新源有：</p>
<p>官网：</p>
<p>deb <a target="_blank" rel="noopener" href="http://http.kali.org/kali">http://http.kali.org/kali</a> kali-rolling main non-free contrib</p>
<p>deb-src <a target="_blank" rel="noopener" href="http://http.kali.org/kali">http://http.kali.org/kali</a> kali-rolling main non-free contrib</p>
<p>注意：官网的更新源在国外，一般情况下需要设置代理才能访问(有时候，由于中间防火墙的缘故，经常出现500 Internal Privoxy Error错误，导致更新失败)， 设置代理的方法和简单，在Terminal中执行如下命令即可：</p>
<p>export http_proxy=<a target="_blank" rel="noopener" href="http://192.168.1.123:8080/">http://192.168.1.123:8080/</a></p>
<p>export https_proxy=https:// 192.168.1.123:8080</p>
<p>国内镜像点：</p>
<p>#阿里云</p>
<p>deb <a target="_blank" rel="noopener" href="http://mirrors.aliyun.com/kali">http://mirrors.aliyun.com/kali</a> kali-rolling main non-free contrib</p>
<p>deb-src <a target="_blank" rel="noopener" href="http://mirrors.aliyun.com/kali">http://mirrors.aliyun.com/kali</a> kali-rolling main non-free contrib</p>
<p>#清华大学</p>
<p>deb <a target="_blank" rel="noopener" href="http://mirrors.tuna.tsinghua.edu.cn/kali">http://mirrors.tuna.tsinghua.edu.cn/kali</a> kali-rolling main contrib non-free</p>
<p>deb-src <a target="_blank" rel="noopener" href="https://mirrors.tuna.tsinghua.edu.cn/kali">https://mirrors.tuna.tsinghua.edu.cn/kali</a> kali-rolling main contrib non-free</p>
<p>#浙大</p>
<p>deb <a target="_blank" rel="noopener" href="http://mirrors.zju.edu.cn/kali">http://mirrors.zju.edu.cn/kali</a> kali-rolling main contrib non-free</p>
<p>deb-src <a target="_blank" rel="noopener" href="http://mirrors.zju.edu.cn/kali">http://mirrors.zju.edu.cn/kali</a> kali-rolling main contrib non-free</p>
<p>#163</p>
<p>deb <a target="_blank" rel="noopener" href="http://mirrors.163.com/debian/">http://mirrors.163.com/debian/</a> jessie main non-free contrib</p>
<p>deb <a target="_blank" rel="noopener" href="http://mirrors.163.com/debian/">http://mirrors.163.com/debian/</a> jessie-updates main non-free contrib</p>
<p>设置镜像点后，执行更新(根据提示选择)</p>
<p><img src="https://img-blog.csdnimg.cn/img_convert/00024919bc03be1dde259f410c843366.png" alt="00024919bc03be1dde259f410c843366.png"></p>
<p>三、安装远程桌面</p>
<p>XRDP支持远程桌面连接。</p>
<p>apt install xrdp</p>
<p>按照提示完成安装，完成后，启用服务：</p>
<p>systemctl enable xrdp</p>
<p>systemctl start xrdp</p>
<p>完成后，通过netstat检查3350端口是否监听</p>
<p><img src="https://img-blog.csdnimg.cn/img_convert/c6a505318e4cff32121e85f18e9c852d.png" alt="c6a505318e4cff32121e85f18e9c852d.png"></p>
<p>Windows 10系统共同远程桌面，连接Kali Linux,如下图所示：</p>
<p><img src="https://img-blog.csdnimg.cn/img_convert/be7ae1ceed3a2f03bc9c95a4a239dc38.png" alt="be7ae1ceed3a2f03bc9c95a4a239dc38.png"></p>
<h1 id="kali无法连接网络"><a href="#kali无法连接网络" class="headerlink" title="kali无法连接网络"></a>kali无法连接网络</h1><p><a target="_blank" rel="noopener" href="https://www.jianshu.com/u/c6d743ce7424"><img src="https://upload.jianshu.io/users/upload_avatars/13348817/d494b761-7b33-4f1f-be05-732322fe6486.jpg?imageMogr2/auto-orient/strip%7CimageView2/1/w/96/h/96/format/webp" alt="img"></a></p>
<p><a target="_blank" rel="noopener" href="https://www.jianshu.com/u/c6d743ce7424">HAPPYers</a>关注</p>
<p>查看ifconfig -a，发现eth0存在，但是没有工作</p>
<p>打开/etc/network/interfaces，起初是没有最下面两行的，加上，格式是仿造倒数第三和第四这两行来写的<br>在行末加入</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">auto</span> eth0</span><br><span class="line">iface eth0 inet dhcp</span><br></pre></td></tr></table></figure>

<p>文本如下</p>
<p><img src="https://upload-images.jianshu.io/upload_images/13348817-d7d5104c29fab0e5.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/690/format/webp" alt="img"></p>
<p>最后，在terminal里执行 /etc/init.d/networking restart 重启网络，使刚才的配置生效，done。</p>
<p>windows 远程桌面访问kali 之xrdp</p>
<p>qq_19486585</p>
<p>于 2020-11-17 14:30:27 发布</p>
<p>2106<br>文章标签： 经验分享 其他<br>版权<br>环境：Esxi6.5</p>
<pre><code>   kali2020.3虚拟机和靶机
   windows:虚拟机或物理机
   同一lan内
</code></pre>
<p>1<br>2<br>3<br>系统：</p>
<pre><code>1）kali 2020.3
2）windows 10 v20h2
</code></pre>
<p>1<br>2<br>一、Kali配置</p>
<p>安装软件<br>#apt-get install xrdp<br>安装xrdp时，提示“无法定位软件包 xrdp”时。更换一下镜像源<br>#vim /etc/apt/source.list</p>
<p><img src="https://img-blog.csdnimg.cn/20201117135919123.png#pic_center" alt="在这里插入图片描述"></p>
<p>#apt-get install xfce4</p>
<p>编辑配置文件<br>#vim /etc/xrdp/xrdp.ini<br>max_bpp=32 修改为16<br>[Xvnc]栏<br>ip=0.0.0.0</p>
<p>#vim /etc/xrdp/startwm.sh<br>添加下图红框一条配置</p>
<p><img src="https://img-blog.csdnimg.cn/20201117135454580.png#pic_center" alt="在这里插入图片描述"></p>
<p>启动<br>#service xrdp restart<br>#update-rc.d xrdp enable</p>
<p>二、windows 10远程访问<br>运行mstsc—–kali的ip地址<br>session使用xorg服务， 也可以安装VNC服务器登录但我没安装vnc；<br>输入root账号和密码， 经测试非root账号会闪退；</p>
<p><strong><img src="https://img-blog.csdnimg.cn/20201117141741969.png#pic_center" alt="在这里插入图片描述"></strong></p>
<p><img src="https://img-blog.csdnimg.cn/20201117141827414.png#pic_center" alt="在这里插入图片描述"></p>
<h1 id="对Kali-Linux进行SSH远程控制"><a href="#对Kali-Linux进行SSH远程控制" class="headerlink" title="对Kali Linux进行SSH远程控制"></a>对Kali Linux进行SSH远程控制</h1><p>默认情况下，Kali Linux2并没有开始SSH服务，如果要远程使用SSH服务连接到Kali还需要一定的设置。</p>
<p>1、首先打开SSH所在目录，命令如下：</p>
<p>cd /etc/ssh/</p>
<p>2、在这个文件夹中创建一个备份文件夹keys_backup，用来保存默认的密钥：</p>
<p>mkdir keys_backup</p>
<p>3、使用如下命令将默认的密钥移动到keys_backup文件夹中。</p>
<p>mv ssh_host_* keys_backup</p>
<p>4、使用如下命令重新创建一个新的密钥。</p>
<p>dpkg-reconfigure openssh-server</p>
<p><img src="https://img-blog.csdnimg.cn/20190527001528877.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyMTgxNDI4,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<p>5、修改sshd_config文件，该文件位于/etc/ssh/sshd_config，如下图：</p>
<p>gedit sshd_config</p>
<p><img src="https://img-blog.csdnimg.cn/20190527001838540.png" alt="在这里插入图片描述"></p>
<p>6、接下来，在终端启动SSH服务，命令如下：</p>
<p>/etc/init.d/ssh start</p>
<p><img src="https://img-blog.csdnimg.cn/2019052700194696.png" alt="在这里插入图片描述"></p>
<p>如果像查看SSH服务运行状态，可以使用如下命令：</p>
<p>netstat -antp</p>
<p><img src="https://img-blog.csdnimg.cn/20190527002127279.png" alt="在这里插入图片描述"></p>
<p>可以看到SSH服务已经在22端口上运行起来了。</p>
<p>7、查看自己kali的ip地址。</p>
<p>ifconfig</p>
<p><img src="https://img-blog.csdnimg.cn/2019052700235545.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyMTgxNDI4,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<p>8、最后可以使用PuTTY来完成远程登陆。</p>
<p><img src="https://img-blog.csdnimg.cn/20190527002556995.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyMTgxNDI4,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<p>输入账号和密码后即可远程控制你的kali，如下：</p>
<p><img src="https://img-blog.csdnimg.cn/20190527002459885.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyMTgxNDI4,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<h1 id="解决kali无法连接网络问题"><a href="#解决kali无法连接网络问题" class="headerlink" title="解决kali无法连接网络问题"></a>解决kali无法连接网络问题</h1><p><img src="https://csdnimg.cn/release/blogv2/dist/pc/img/translate.png" alt="img"></p>
<ol>
<li>键入 ifconfig -a 查看网卡 ，是否存在</li>
<li>键入 leafpad /etc/network/interfaces 查看其中是否有如下语句，没有添加上即可：<br>auto eth0<br>iface eth0 inet <a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=dhcp&spm=1001.2101.3001.7020">dhcp</a></li>
<li>然后重启：/etc/init.d/networking restart</li>
<li>如果仍无法连接网络，重置虚拟网络：编辑–虚拟网络编辑器</li>
<li>键入 leafpad /etc/NetworkManager/NetworkManager.conf 将其中的false改为true</li>
<li>键入ifup eth0 启动网卡</li>
</ol>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/%E9%97%AE%E9%A2%98%E6%8E%92%E9%99%A4%E8%AE%B0%E5%BD%95/" rel="tag"># 问题排除记录</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2022/08/17/%E7%96%91%E9%9A%BE%E8%A7%A3%E7%AD%94-common/" rel="prev" title="疑难解答-common">
      <i class="fa fa-chevron-left"></i> 疑难解答-common
    </a></div>
      <div class="post-nav-item">
    <a href="/2022/08/17/python%E5%9B%BE%E5%BD%A2%E7%95%8C%E9%9D%A2%E5%BC%80%E5%8F%91/" rel="next" title="python图形界面开发">
      python图形界面开发 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#vim%E4%B8%8D%E8%83%BD%E5%A4%8D%E5%88%B6%E7%B2%98%E8%B4%B4"><span class="nav-text">vim不能复制粘贴</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Linux%E4%B8%8Bmysql-5-6%E9%87%8D%E7%BD%AEroot%E5%AF%86%E7%A0%81-https-www-cnblogs-com-xzlive-p-12758788-html"><span class="nav-text">Linux下mysql-5.6重置root密码](https:&#x2F;&#x2F;www.cnblogs.com&#x2F;xzlive&#x2F;p&#x2F;12758788.html)</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#windows%E4%B8%8B%E7%94%A8navicat%E9%93%BE%E6%8E%A5%E8%99%9A%E6%8B%9F%E6%9C%BAMySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E8%BF%87%E7%A8%8B%E5%92%8C%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3"><span class="nav-text">windows下用navicat链接虚拟机MySQL数据库的过程和问题解决</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#MariaDB-%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%81%E7%A7%BB"><span class="nav-text">*MariaDB* *数据库迁移*</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%80%E3%80%81%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E8%BF%81%E7%A7%BB"><span class="nav-text">一、为什么要迁移</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BA%8C%E3%80%81%E8%BF%81%E7%A7%BB%E5%89%8D%E5%AF%BC%E6%AD%A5%E9%AA%A4"><span class="nav-text">二、迁移前导步骤</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%89%E3%80%81%E8%BF%81%E7%A7%BB%E6%95%B0%E6%8D%AE%E5%BA%93%E8%A1%A8%E5%92%8C%E7%BB%93%E6%9E%84"><span class="nav-text">三、迁移数据库表和结构</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Centos%E7%8E%AF%E5%A2%83%E4%B8%8B%E5%AE%89%E8%A3%85mongoDB"><span class="nav-text">Centos环境下安装mongoDB</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%9C%AC%E5%9C%B0%E8%BF%9E%E4%B8%8D%E4%B8%8A%E8%BF%9C%E7%A8%8B%E8%99%9A%E6%8B%9F%E6%9C%BA%E7%9A%84mysql"><span class="nav-text">本地连不上远程虚拟机的mysql</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Mariadb-Mysql%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4"><span class="nav-text">Mariadb&#x2F;Mysql命令行常用命令</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%80%E3%80%81%E5%88%9D%E5%A7%8B%E5%8C%96%E7%AD%89"><span class="nav-text">一、初始化等</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1%E3%80%81%E7%99%BB%E9%99%86%E6%95%B0%E6%8D%AE%E5%BA%93%E6%96%B9%E6%B3%95"><span class="nav-text">1、登陆数据库方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2%E3%80%81%E4%BF%AE%E6%94%B9root%E5%8F%8A%E7%94%A8%E6%88%B7%E5%AF%86%E7%A0%81"><span class="nav-text">2、修改root及用户密码</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3%E3%80%81%E5%88%9B%E5%BB%BA%E7%94%A8%E6%88%B7"><span class="nav-text">3、创建用户</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4%E3%80%81%E5%88%A0%E9%99%A4%E7%94%A8%E6%88%B7"><span class="nav-text">4、删除用户</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5%E3%80%81%E5%88%A0%E9%99%A4%E7%94%A8%E6%88%B7%E7%9A%84%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="nav-text">5、删除用户的数据库</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6%E3%80%81%E4%BA%A4%E4%BA%92%E6%A8%A1%E5%BC%8F%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="nav-text">6、交互模式初始化</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BA%8C%E3%80%81-%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C"><span class="nav-text">二、 常用操作</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1%E3%80%81%E6%98%BE%E7%A4%BA%E6%95%B0%E6%8D%AE%E5%BA%93%E5%88%97%E8%A1%A8"><span class="nav-text">1、显示数据库列表</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2%E3%80%81%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="nav-text">2、创建数据库</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3%E3%80%81%E8%BF%9B%E5%85%A5%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="nav-text">3、进入数据库</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4%E3%80%81%E6%98%BE%E7%A4%BA%E5%BA%93%E4%B8%AD%E7%9A%84%E6%95%B0%E6%8D%AE%E8%A1%A8"><span class="nav-text">4、显示库中的数据表</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5%E3%80%81%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E8%A1%A8"><span class="nav-text">5、创建数据表</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6%E3%80%81%E6%8F%92%E5%85%A5%E6%95%B0%E6%8D%AE"><span class="nav-text">6、插入数据</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7%E3%80%81%E6%9F%A5%E7%9C%8B%E6%95%B0%E6%8D%AE%E8%A1%A8"><span class="nav-text">7、查看数据表</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8%E3%80%81%E5%A4%9A%E6%9D%A1%E4%BB%B6%E6%9F%A5%E8%AF%A2"><span class="nav-text">8、多条件查询</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#9%E3%80%81%E6%9F%A5%E7%9C%8B%E5%AD%97%E6%AE%B5%E5%86%85%E5%AE%B9"><span class="nav-text">9、查看字段内容</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#10%E3%80%81%E4%BF%AE%E6%94%B9%E5%AD%97%E6%AE%B5%E9%95%BF%E5%BA%A6"><span class="nav-text">10、修改字段长度</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#11%E3%80%81%E4%BF%AE%E6%94%B9%E8%AF%A5%E5%AD%97%E6%AE%B5%E5%86%85%E5%AE%B9"><span class="nav-text">11、修改该字段内容</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#12%E3%80%81%E6%9D%83%E9%99%90%E5%88%B7%E6%96%B0"><span class="nav-text">12、权限刷新</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#13%E3%80%81%E6%B8%85%E7%A9%BA%E8%A1%A8%E5%8D%95"><span class="nav-text">13、清空表单</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#14%E3%80%81%E5%88%A0%E9%99%A4%E6%95%B0%E6%8D%AE%E8%A1%A8"><span class="nav-text">14、删除数据表</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#15%E3%80%81%E5%88%A0%E9%99%A4%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="nav-text">15、删除数据库</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#16%E3%80%81%E6%9F%A5%E7%9C%8B%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AD%97%E7%AC%A6%E9%9B%86"><span class="nav-text">16、查看数据库字符集</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#17%E3%80%81%E6%9F%A5%E7%9C%8B%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E"><span class="nav-text">17、查看存储引擎</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#18%E3%80%81%E6%9F%A5%E7%9C%8B%E9%BB%98%E8%AE%A4%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E"><span class="nav-text">18、查看默认存储引擎</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#19%E3%80%81%E4%BF%AE%E6%94%B9%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E"><span class="nav-text">19、修改存储引擎</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%89%E3%80%81mysql-%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AD%97%E7%AC%A6%E9%9B%86%E8%AE%BE%E7%BD%AE"><span class="nav-text">三、mysql 数据库字符集设置</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9B%9B%E3%80%81mysql-%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AF%86%E7%A0%81%E7%AE%A1%E7%90%86"><span class="nav-text">四、mysql 数据库密码管理</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1%E3%80%81%E5%88%9B%E5%BB%BA%E7%94%A8%E6%88%B7%E5%8F%8A%E6%8E%88%E6%9D%83"><span class="nav-text">1、创建用户及授权</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2%E3%80%81%E7%A0%B4%E8%A7%A3%E5%AF%86%E7%A0%81%E6%96%B9%E6%B3%95"><span class="nav-text">2、破解密码方法</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BA%94%E3%80%81mysql-%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E8%AF%A6%E8%A7%A3"><span class="nav-text">五、mysql 配置文件详解</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1%E3%80%81%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E"><span class="nav-text">1、参数说明</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2%E3%80%81mysql%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B4%A2%E5%BC%95%E6%A1%88%E4%BE%8B%EF%BC%88%E7%99%BE%E4%B8%87%E9%87%8F%E7%BA%A7%EF%BC%89"><span class="nav-text">2、mysql数据库索引案例（百万量级）</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#kali%E5%BC%80%E5%90%AF%E7%AB%AF%E5%8F%A3%E3%80%81%E5%85%B3%E9%97%AD%E9%98%B2%E7%81%AB%E5%A2%99%E6%96%B9%E6%B3%95"><span class="nav-text">kali开启端口、关闭防火墙方法</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#kali-linux%E5%A6%82%E4%BD%95%E6%89%93%E5%BC%80mysql-Navicat%E8%81%94%E6%8E%A5kali-Linux%E4%B8%AD%E7%9A%84mysql"><span class="nav-text">kali linux如何打开mysql,Navicat联接kali Linux中的mysql</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#kali-%E5%AE%89%E8%A3%85nginx%E6%9C%8D%E5%8A%A1%E5%99%A8"><span class="nav-text">kali 安装nginx服务器</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E5%8E%BB%E5%AE%98%E7%BD%91%E4%B8%8B%E8%BD%BD%E6%9C%80%E6%96%B0%E7%89%88%E7%9A%84%E5%AE%89%E8%A3%85%E5%8C%85%EF%BC%8C%E4%BB%A5nginx-1-16-1%E4%B8%BA%E4%BE%8B"><span class="nav-text">1.去官网下载最新版的安装包，以nginx-1.16.1为例</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E8%A7%A3%E5%8E%8Btar-gz-%E6%96%87%E4%BB%B6%E5%88%B0%E6%8C%87%E5%AE%9A%E8%B7%AF%E5%BE%84"><span class="nav-text">2.解压tar.gz 文件到指定路径</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-%E7%BC%BA%E5%B0%91pcre%E5%8C%85%E8%A7%A3%E5%86%B3"><span class="nav-text">3.缺少pcre包解决</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-1%E6%8A%A5%E9%94%99%E8%AF%A6%E6%83%85"><span class="nav-text">3.1报错详情</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-2%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95"><span class="nav-text">3.2解决方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-%E6%8C%87%E5%AE%9Apcre%E6%BA%90%E7%A0%81%E5%8C%85%E8%B7%AF%E5%BE%84%E7%BB%A7%E7%BB%AD%E5%AE%89%E8%A3%85"><span class="nav-text">4.指定pcre源码包路径继续安装</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-%E7%BC%BA%E5%B0%91zlib%E5%8C%85"><span class="nav-text">5.缺少zlib包</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-1%E6%8A%A5%E9%94%99%E8%AF%A6%E6%83%85"><span class="nav-text">5.1报错详情</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-2%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95"><span class="nav-text">5.2解决方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-%E5%AE%89%E8%A3%85%E5%AE%8C%E4%BE%9D%E8%B5%96%E5%8C%85%E5%90%8E%E9%87%8D%E6%96%B0%E7%94%9F%E6%88%90Makefile%E6%96%87%E4%BB%B6"><span class="nav-text">6.安装完依赖包后重新生成Makefile文件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-%E4%BD%BF%E7%94%A8make%E7%BC%96%E8%AF%91%E5%B9%B6%E5%AE%89%E8%A3%85nginx%E6%9C%8D%E5%8A%A1%E5%99%A8"><span class="nav-text">7.使用make编译并安装nginx服务器</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8-%E7%BC%96%E8%AF%91%E8%BD%AF%E4%BB%B6%E7%BB%A7%E7%BB%AD%E6%8A%A5%E9%94%99%E2%80%A6%E2%80%A6"><span class="nav-text">8.编译软件继续报错……</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8-1%E6%8A%A5%E9%94%99%E8%AF%A6%E6%83%85"><span class="nav-text">8.1报错详情</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8-2%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95"><span class="nav-text">8.2解决方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#9-%E8%BF%9B%E5%85%A5nginx%E7%9A%84%E5%AE%89%E8%A3%85%E7%9B%AE%E5%BD%95%E5%BC%80%E5%A7%8B%E4%BD%BF%E7%94%A8%E6%9C%8D%E5%8A%A1%E5%99%A8"><span class="nav-text">9.进入nginx的安装目录开始使用服务器</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#9-1-%E7%89%88%E6%9C%AC%E4%BF%A1%E6%81%AF"><span class="nav-text">9.1 版本信息</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#9-2-%E6%98%BE%E7%A4%BA%E6%9B%B4%E5%A4%9A%E8%AF%A6%E7%BB%86%E4%BF%A1%E6%81%AF"><span class="nav-text">9.2 显示更多详细信息</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#kali-mysql%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B-Kali%E4%B8%AD%E5%AE%89%E8%A3%85mysql%E8%87%AA%E5%8A%A8%E5%AE%89%E8%A3%85%E8%84%9A%E6%9C%AC"><span class="nav-text">kali mysql安装教程_Kali中安装mysql自动安装脚本</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Kali%E2%80%93MariaDB%E5%AE%89%E8%A3%85-%E4%BD%BF%E7%94%A8-%E6%94%B9%E5%AF%86-%E5%8D%B8%E8%BD%BD%E4%B8%80%E6%9D%A1%E9%BE%99"><span class="nav-text">Kali–MariaDB安装,使用,改密,卸载一条龙</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Kali-MariaDB%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8"><span class="nav-text">Kali-MariaDB安装使用</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%89%E8%A3%85"><span class="nav-text">安装</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8"><span class="nav-text">使用</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="nav-text">初始化</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BF%98%E8%AE%B0%E5%AF%86%E7%A0%81"><span class="nav-text">忘记密码</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8D%B8%E8%BD%BD"><span class="nav-text">卸载</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Kali-2019-4-%E4%B8%8B%E5%8D%B8%E8%BD%BD%E5%B9%B6%E9%87%8D%E6%96%B0%E5%AE%89%E8%A3%85MySQL"><span class="nav-text">Kali 2019.4 下卸载并重新安装MySQL</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95%EF%BC%9A"><span class="nav-text">解决方法：</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%AE%9D%E5%A1%94%E9%9D%A2%E6%9D%BF%E5%AE%89%E8%A3%85%E7%9B%B8%E5%85%B3"><span class="nav-text">宝塔面板安装相关</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%97%AE%E9%A2%98%E7%9B%B8%E5%85%B3"><span class="nav-text">问题相关</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ERROR-Failed-building-wheel-for-cryptography"><span class="nav-text">ERROR: Failed building wheel for cryptography</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#linux%E5%9C%A8python%E7%9A%84%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83%E4%B8%8B%E8%BF%90%E8%A1%8C%E7%A8%8B%E5%BA%8F-%E5%AE%89%E8%A3%85python%E8%99%9A%E6%8B%9F%E8%BF%90%E8%A1%8C%E7%8E%AF%E5%A2%83%EF%BC%8Clinux%E4%B8%8B%E8%BD%BB%E6%9D%BE%E5%88%87%E6%8D%A2python2%E5%92%8Cpython3%E2%80%A6"><span class="nav-text">linux在python的虚拟环境下运行程序_安装python虚拟运行环境，linux下轻松切换python2和python3…</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#kali-linux-%E5%BC%80%E5%90%AFSSH%E6%9C%8D%E5%8A%A1-%E5%AE%B9%E8%AE%B8root%E7%99%BB%E9%99%86"><span class="nav-text">kali linux 开启SSH服务 容许root登陆</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#kali-rpm-%E5%AE%89%E8%A3%85%E6%96%B9%E6%B3%95-Kali-Linux%E5%AE%89%E8%A3%85%E8%BF%87%E7%A8%8B%E8%AE%B0%E5%BD%95"><span class="nav-text">kali rpm 安装方法_Kali Linux安装过程记录</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#kali%E6%97%A0%E6%B3%95%E8%BF%9E%E6%8E%A5%E7%BD%91%E7%BB%9C"><span class="nav-text">kali无法连接网络</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%AF%B9Kali-Linux%E8%BF%9B%E8%A1%8CSSH%E8%BF%9C%E7%A8%8B%E6%8E%A7%E5%88%B6"><span class="nav-text">对Kali Linux进行SSH远程控制</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%A7%A3%E5%86%B3kali%E6%97%A0%E6%B3%95%E8%BF%9E%E6%8E%A5%E7%BD%91%E7%BB%9C%E9%97%AE%E9%A2%98"><span class="nav-text">解决kali无法连接网络问题</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Private</p>
  <div class="site-description" itemprop="description">程序语言记录</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">19</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
        <span class="site-state-item-count">5</span>
        <span class="site-state-item-name">分类</span>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">8</span>
        <span class="site-state-item-name">标签</span>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Private</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

</body>
</html>
